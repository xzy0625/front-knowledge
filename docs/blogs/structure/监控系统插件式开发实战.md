# 插件式实战
## 总体思想
1. 我们的核心是收集数据，所以插件中的核心是收集数据。另外有些自定义的事件，所以插件也可以用来扩展事件核心


## 设计指导思想
1. 插件式设计
2. 观察者模式

## 具体实现
1. core
   - 支持初始化参数（应用id, uid之类的）
   - 初始化常见错误的上报，并注册相关插件（需保证插件名称唯一）
   - 支持导出相关生命周期，支持在plugins中监听
   - 支持自定义上报，可以被插件中调用
2. plugin API
   - 插件名称：上报时候的key使用插件名称
   - 初始化的时候传入单独的options配置
   - collect：收集数据
   - triggerEvent: string [], 触发数据收集的事件，这些事件core中内置
   - 可以在实例上注册自定义事件，并携带collect数据和插件。【上报时类型默认为CUSTOM_EVENTS】
   - 支持监听生命周期去执行相关事情
3. plugins
   - performance 性能监控
   - record 录制数据
   - user beHaviors 用户行为录制
   - whiteScreen 白屏数据