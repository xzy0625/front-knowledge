<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>viteä¿è¯å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒç»Ÿä¸€ | front-knowledge</title>
    <meta name="description" content="å‰ç«¯çŸ¥è¯†ç‚¹æ•´ç†">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/front-knowledge/assets/style.DEZRZCd3.css" as="style">
    <link rel="preload stylesheet" href="/front-knowledge/vp-icons.css" as="style">
    
    <script type="module" src="/front-knowledge/assets/app.DKV69Fy-.js"></script>
    <link rel="preload" href="/front-knowledge/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/front-knowledge/assets/chunks/theme.Dha6e0Sd.js">
    <link rel="modulepreload" href="/front-knowledge/assets/chunks/framework.BvgWjPB6.js">
    <link rel="modulepreload" href="/front-knowledge/assets/blogs_project_vite_å¼€å‘ç¯å¢ƒå¦‚ä½•å’Œç”Ÿäº§ç¯å¢ƒä¿æŒä¸€è‡´.md.CkJJ9Lw9.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/front-knowledge/" data-v-1168a8e4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/front-knowledge/images/logo.png" alt data-v-8426fc1a><!--]--><span data-v-1168a8e4>front-knowledge</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://xzy0625.github.io/react-docs/" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>ğŸŒŠreact18æºç è§£æ</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://xzy0625.github.io/vue-docs/" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>ğŸŒ›vue3æºç è§£æ</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://xzy0625.github.io/js-interview/" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>ğŸŒå‰ç«¯çŸ¥è¯†æ—¥ç§¯æœˆç´¯</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/front-knowledge/blogs/start/start.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>ğŸ”¥å‰ç«¯ç®—æ³•(ç¼–å†™ä¸­)</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="http://zyxiong.com/" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>ğŸ’­ä¸ªäººä¸»é¡µ</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>å…¶ä»–</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/front-knowledge/others/changelog.html" data-v-35975db6><!--[--><span data-v-35975db6>Changelog</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/front-knowledge/others/contribution.html" data-v-35975db6><!--[--><span data-v-35975db6>Contribution</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/xzy0625/front-knowledge" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/xzy0625/front-knowledge" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>jsvascript</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>promise</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/jsvascript/promise/promiseA+%E8%A7%84%E8%8C%83.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>promiseA+è§„èŒƒ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/jsvascript/promise/%E7%9B%B8%E5%85%B3%E6%96%87%E7%AB%A0.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ç›¸å…³æ–‡ç« </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/jsvascript/promise/%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0promise.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>è‡ªå·±å®ç°promise</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/jsvascript/promise/promise%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BA%94%E7%94%A8.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>promiseçš„ä¸€äº›åº”ç”¨</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>é¢˜ç›®ç§¯ç´¯</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/jsvascript/%E9%A2%98%E7%9B%AE%E7%A7%AF%E7%B4%AF/%E6%89%8B%E5%86%99.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æ‰‹å†™</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>ä¸€äº›ç‰¹æ€§</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/jsvascript/%E4%B8%80%E4%BA%9B%E7%89%B9%E6%80%A7/%E4%B8%80%E4%BA%9B%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ä¸€äº›ä»£ç å®ç°</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/jsvascript/this%E6%8C%87%E5%90%91%E8%A7%84%E5%88%99.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>thisæŒ‡å‘è§„åˆ™</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/jsvascript/%E4%BB%A3%E7%A0%81%E6%BC%8F%E6%B4%9E.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ä»£ç æ¼æ´</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/jsvascript/%E6%B2%99%E7%AE%B1.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æ²™ç®±</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>æµè§ˆå™¨</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>V8å¼•æ“</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/V8/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%85%E6%A0%B8%E5%92%8CJS%E5%BC%95%E6%93%8E%E7%9A%84%E5%85%B3%E7%B3%BB.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æµè§ˆå™¨å†…æ ¸å’ŒJSå¼•æ“çš„å…³ç³»</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/V8/V8%E5%BC%95%E6%93%8E%E6%A6%82%E8%A7%88.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>v8å¼•æ“æ¦‚è§ˆ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/V8/V8%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>V8å†…å­˜ç®¡ç†</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>äº‹ä»¶å¾ªç¯</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/eventLoop/performance%E4%BD%BF%E7%94%A8.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>performanceä½¿ç”¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/eventLoop/dom%E6%9B%B4%E6%96%B0%E6%B8%B2%E6%9F%93%E6%97%B6%E6%9C%BA.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>domæ›´æ–°æ¸²æŸ“æ—¶æœº</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/eventLoop/%E4%B8%80%E6%AE%B5%E5%A5%87%E6%80%AA%E7%9A%84%E4%BB%A3%E7%A0%81.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ä¸€æ®µå¥‡æ€ªçš„ä»£ç </p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>webå®‰å…¨</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/web%E5%AE%89%E5%85%A8/%E7%88%AC%E8%99%AB%E6%94%BB%E5%87%BB.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>çˆ¬è™«æ”»å‡»</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/web%E5%AE%89%E5%85%A8/%E4%B8%8A%E4%BC%A0%E6%8E%A5%E5%8F%A3%E6%94%BB%E5%87%BB.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ä¸Šä¼ æ¥å£æ”»å‡»</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/web%E5%AE%89%E5%85%A8/xss%E5%92%8Ccsrf.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>xsså’Œcsrf</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/event-loop.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>event-loop</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/%E6%9D%82%E8%AE%B0.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æ‚è®°</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E7%BA%BF%E7%A8%8B%E5%92%8C%E8%BF%9B%E7%A8%8B.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æµè§ˆå™¨ä¸­çš„çº¿ç¨‹å’Œè¿›ç¨‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/%E5%BC%BA%E7%BC%93%E5%AD%98%E5%92%8C%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E5%92%8C%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æµè§ˆå™¨æ¸²æŸ“åŸç†å’Œæ€§èƒ½ä¼˜åŒ–</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/browser/%E6%B5%8F%E8%A7%88%E5%99%A8%E9%9A%8F%E6%84%8F%E8%AE%B0%E5%BD%95.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æµè§ˆå™¨éšæ„è®°å½•</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>css</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/css/z-index%E4%B8%8D%E7%94%9F%E6%95%88.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>z-indexä¸ç”Ÿæ•ˆ</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>performance</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/performance/first.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>first</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/performance/index.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å¤§æ•°æ®æ¸²æŸ“</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%BD%93%E7%B3%BB.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æ€§èƒ½ä¼˜åŒ–ä½“ç³»</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/performance/%E9%95%BF%E4%BB%BB%E5%8A%A1%E5%A4%84%E7%90%86.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>é•¿ä»»åŠ¡å¤„ç†</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>å·¥ç¨‹åŒ–</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/%E4%B8%BA%E4%BB%80%E4%B9%88%E7%94%A8rollup%E8%BF%9B%E8%A1%8C%E6%89%93%E5%8C%85.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ä¸ºä»€ä¹ˆç”¨rollupè¿›è¡Œæ‰“åŒ…</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/babel_plugin.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>babelæ’ä»¶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å‰ç«¯ç›‘æ§</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/%E5%89%8D%E7%AB%AF%E6%B5%8B%E8%AF%95.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å‰ç«¯æµ‹è¯•</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>æ¨¡å—</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/%E6%A8%A1%E5%9D%97/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E7%9A%84%E6%A0%B8%E5%BF%83%E6%B5%81%E7%A8%8B.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æ‰“åŒ…å·¥å…·çš„æ ¸å¿ƒæµç¨‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/%E6%A8%A1%E5%9D%97/%E6%A8%A1%E5%9D%97%E5%8F%91%E5%B1%95%E5%8F%B2.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æ¨¡å—å‘å±•å²</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed has-active" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>vite</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/vite/%E5%A6%82%E4%BD%95%E8%B0%83%E8%AF%95%E6%BA%90%E7%A0%81.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å¦‚ä½•è°ƒè¯•æºç </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/vite/vite%E4%BC%98%E5%8A%BF.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>viteä¼˜åŠ¿å’Œå®è§‚åŸç†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/vite/%E4%BE%9D%E8%B5%96%E9%A2%84%E6%9E%84%E5%BB%BA.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ä¾èµ–é¢„æ„å»º</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/vite/HMR.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>HMR</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/vite/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%A6%82%E4%BD%95%E5%92%8C%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%BF%9D%E6%8C%81%E4%B8%80%E8%87%B4.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å¼€å‘ç¯å¢ƒå¦‚ä½•å’Œç”Ÿäº§ç¯å¢ƒä¿æŒä¸€è‡´</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/vite/%E5%92%8C%E5%85%B6%E4%BB%96%E6%A1%86%E6%9E%B6%E4%B8%80%E8%B5%B7%E4%BB%8B%E7%BB%8D.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å’Œå…¶ä»–æ¡†æ¶ä¸€èµ·ä»‹ç»</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/vite/%E5%B8%B8%E8%A7%81%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å¸¸è§çš„ä¸€äº›é—®é¢˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/project/vite/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ä¸€äº›æ€»ç»“</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>æ¶æ„</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/structure/%E6%8F%92%E4%BB%B6%E5%BC%8F%E5%BC%80%E5%8F%91.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æ’ä»¶å¼å¼€å‘</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/structure/%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E6%8F%92%E4%BB%B6%E5%BC%8F%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ç›‘æ§ç³»ç»Ÿæ’ä»¶å¼å¼€å‘å®æˆ˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/structure/%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E5%89%8D%E7%AB%AF%E5%A4%8D%E6%9D%82%E7%9A%84%E4%B8%9A%E5%8A%A1%E4%BB%A3%E7%A0%81.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å¦‚ä½•å¤„ç†å‰ç«¯å¤æ‚çš„ä¸šåŠ¡ä»£ç </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/structure/%E5%88%9B%E6%84%8F%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>é¡¹ç›®ä¸­åˆ›æ„é…ç½®ç³»ç»Ÿè®¾è®¡</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/structure/%E5%89%8D%E7%AB%AF%E9%83%A8%E7%BD%B2.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å‰ç«¯éƒ¨ç½²</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/structure/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å‰ç«¯å¼€å‘ä¸­çš„ä¸€äº›æ€è€ƒ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/structure/%E7%90%86%E8%A7%A3%E4%B8%9A%E5%8A%A1%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%A4%8D%E6%9D%82%E6%80%A7.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ç†è§£ä¸šåŠ¡ç³»ç»Ÿçš„å¤æ‚æ€§</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>ç®—æ³•</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/algorithm/%E6%A0%91.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æ ‘</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/algorithm/%E9%93%BE%E8%A1%A8.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>é“¾è¡¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/algorithm/%E6%8A%80%E5%B7%A7.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æŠ€å·§</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/algorithm/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ä»£ç ç‰‡æ®µ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/algorithm/%E7%AE%97%E6%B3%95%E6%A1%86%E6%9E%B6.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ç®—æ³•æ¡†æ¶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/algorithm/%E7%BB%8F%E5%85%B8%E9%A2%98%E7%9B%AE.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ç»å…¸é¢˜ç›®</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>ä»£ç ç‰‡æ®µ</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/codePart/javascript.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>javascriptä»£ç ç‰‡æ®µ</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>node</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>koa</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/node/koa/%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%8E%9F%E7%90%86.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ä»‹ç»å’ŒåŸç†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/node/koa/%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%AD%E9%97%B4%E4%BB%B6.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>è‡ªå®šä¹‰ä¸­é—´ä»¶</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>bffå¹³å°æ­å»º</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/node/bff%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/%E6%A6%82%E8%A7%88.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æ¦‚è§ˆ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/node/bff%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/%E6%95%B0%E6%8D%AE%E5%BA%93.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æ•°æ®åº“</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/node/node%E5%AE%9E%E7%8E%B0%E8%B7%AF%E5%BE%84%E5%88%AB%E5%90%8D.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>nodeå®ç°è·¯å¾„åˆ«å</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>redux</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/redux/redux%E6%BA%90%E7%A0%81%E5%AE%9E%E7%8E%B0.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>reduxæºç å®ç°</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/redux/react-redux%E6%BA%90%E7%A0%81%E5%AE%9E%E7%8E%B0.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>react-reduxæºç å®ç°</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/redux/redux%E4%BD%BF%E7%94%A8%E4%BC%98%E5%8C%96.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>reduxä½¿ç”¨ä¼˜åŒ–</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/redux/redux%E5%AE%9E%E7%8E%B0watch.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>reduxå®ç°watch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/redux/redux%E5%8E%9F%E7%90%86.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>reduxåŸç†--æ‚è®°</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/redux/redux%E6%80%9D%E6%83%B3.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>reduxæ€æƒ³</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>ä¸ªäººæ€è€ƒ</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/thinking/%E4%B8%AD%E9%97%B4%E4%BB%B6.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ä¸­é—´ä»¶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/thinking/%E5%87%BD%E6%95%B0%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å‡½æ•°ç¼–ç¨‹èŒƒå¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/thinking/%E4%B8%AA%E4%BA%BA%E6%88%90%E9%95%BF.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ä¸ªäººæˆé•¿</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>node</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/learn/%E6%8E%A8%E8%8D%90%E7%BD%91%E7%AB%99.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>æ¨èç½‘ç«™</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>ç§»åŠ¨ç«¯</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/mobile/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ç§»åŠ¨ç«¯é€‚é…</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>å…¶ä»–</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/others/%E5%BC%80%E5%8F%91%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å¼€å‘é—®é¢˜æ±‡æ€»</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/others/jsapi%E5%92%8C%E7%A6%BB%E7%BA%BF%E5%8C%85.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>jsapiå’Œç¦»çº¿åŒ…</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/others/tinyproxy%E6%90%AD%E5%BB%BA%E7%A7%81%E4%BA%BA%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>tinyproxyæ­å»ºç§äººä»£ç†æœåŠ¡å™¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/front-knowledge/blogs/others/bff%E5%92%8Crpc.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>bffå’Œrpc</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _front-knowledge_blogs_project_vite_%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%A6%82%E4%BD%95%E5%92%8C%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%BF%9D%E6%8C%81%E4%B8%80%E8%87%B4" data-v-39a288b8><div><h1 id="viteä¿è¯å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒç»Ÿä¸€" tabindex="-1">viteä¿è¯å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒç»Ÿä¸€ <a class="header-anchor" href="#viteä¿è¯å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒç»Ÿä¸€" aria-label="Permalink to &quot;viteä¿è¯å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒç»Ÿä¸€&quot;">â€‹</a></h1><h4 id="æ¦‚è¿°" tabindex="-1">æ¦‚è¿° <a class="header-anchor" href="#æ¦‚è¿°" aria-label="Permalink to &quot;æ¦‚è¿°&quot;">â€‹</a></h4><ul><li>Vite åœ¨å¼€å‘é˜¶æ®µå®ç°äº†ä¸€ä¸ªæŒ‰éœ€åŠ è½½çš„æœåŠ¡å™¨ï¼Œæ¯ä¸€ä¸ªæ–‡ä»¶è¯·æ±‚è¿›æ¥éƒ½ä¼šç»å†ä¸€ç³»åˆ—çš„ç¼–è¯‘æµç¨‹ï¼Œç„¶å Vite ä¼šå°†ç¼–è¯‘ç»“æœå“åº”ç»™æµè§ˆå™¨ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼ŒVite åŒæ ·ä¼šæ‰§è¡Œä¸€ç³»åˆ—ç¼–è¯‘è¿‡ç¨‹ï¼Œå°†ç¼–è¯‘ç»“æœäº¤ç»™ Rollup è¿›è¡Œæ¨¡å—æ‰“åŒ…</li><li>è¿™ä¸€ç³»åˆ—çš„ç¼–è¯‘è¿‡ç¨‹æŒ‡çš„å°±æ˜¯ Vite çš„æ’ä»¶å·¥ä½œæµæ°´çº¿(Pipeline)ï¼Œè€Œæ’ä»¶åŠŸèƒ½åˆæ˜¯ Vite æ„å»ºèƒ½åŠ›çš„æ ¸å¿ƒï¼Œå› æ­¤è°ˆåˆ°é˜…è¯» Vite æºç ï¼Œæˆ‘ä»¬æ°¸è¿œç»•ä¸å¼€æ’ä»¶çš„ä½œç”¨ä¸å®ç°åŸç†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å°±å’Œä½ ä¸€èµ·åˆ†æ Vite æ’ä»¶æµæ°´çº¿çš„é¡¶å±‚æ¶æ„ï¼Œä¹Ÿå°±æ˜¯å„ä¸ªæ’ä»¶å¦‚ä½•è¢«è°ƒåº¦å’Œç»„ç»‡èµ·æ¥çš„ï¼Œè¯¦ç»†è¯´è¯´ Vite æ’ä»¶å®¹å™¨( PluginContainer )æœºåˆ¶çš„å®ç°ï¼ŒåŒæ—¶å¸¦ä½ ä¸€èµ·æ¢³ç†å¼€å‘é˜¶æ®µå’Œç”Ÿäº§ç¯å¢ƒå„è‡ªä¼šç”¨åˆ°çš„æ’ä»¶ï¼Œå¹¶åˆ†æå„è‡ªçš„åŠŸèƒ½ä¸å®ç°åŸç†ï¼Œè®©ä½ èƒ½å¤Ÿå…¨é¢ã€å‡†ç¡®åœ°è®¤è¯† Vite çš„æ’ä»¶æµæ°´çº¿ï¼</li></ul><h4 id="æ’ä»¶å®¹å™¨" tabindex="-1">æ’ä»¶å®¹å™¨ <a class="header-anchor" href="#æ’ä»¶å®¹å™¨" aria-label="Permalink to &quot;æ’ä»¶å®¹å™¨&quot;">â€‹</a></h4><ul><li>Vite çš„æ’ä»¶æœºåˆ¶æ˜¯ä¸ Rollup å…¼å®¹çš„ï¼Œä½†å®ƒåœ¨å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒä¸‹çš„å®ç°ç¨æœ‰å·®åˆ«ï¼Œä½ å¯ä»¥å›é¡¾ä¸€ä¸‹è¿™å¼ æ¶æ„å›¾:</li></ul><p><img src="/front-knowledge/assets/8f8801aac94c93ebc15a80efb2ce17a4.oOE8aW70.png" alt=""></p><ul><li>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°: <ul><li>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ Vite ç›´æ¥è°ƒç”¨ Rollup è¿›è¡Œæ‰“åŒ…ï¼Œæ‰€ä»¥ Rollup å¯ä»¥è°ƒåº¦å„ç§æ’ä»¶ï¼›</li><li>åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼ŒVite æ¨¡æ‹Ÿäº† Rollup çš„æ’ä»¶æœºåˆ¶ï¼Œè®¾è®¡äº†ä¸€ä¸ª PluginContainer å¯¹è±¡æ¥è°ƒåº¦å„ä¸ªæ’ä»¶ã€‚</li></ul></li></ul><p>PluginContainer (æ’ä»¶å®¹å™¨)å¯¹è±¡éå¸¸é‡è¦ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æŠŠç›®å…‰é›†ä¸­åˆ°è¿™ä¸ªå¯¹è±¡èº«ä¸Šï¼Œçœ‹çœ‹ <a href="https://so.csdn.net/so/search?q=Vite&amp;spm=1001.2101.3001.7020" target="_blank" rel="noreferrer">Vite</a> çš„æ’ä»¶å®¹å™¨æœºåˆ¶ç©¶ç«Ÿæ˜¯å¦‚ä½•å®ç°çš„ã€‚</p><p>PluginContainer çš„ <a href="https://github.com/vitejs/vite/blob/main/packages/vite/src/node/server/pluginContainer.ts" target="_blank" rel="noreferrer">å®ç°</a> åŸºäºå€Ÿé‰´äº WMR ä¸­çš„ <a href="https://so.csdn.net/so/search?q=rollup&amp;spm=1001.2101.3001.7020" target="_blank" rel="noreferrer">rollup</a>-plugin-container.js ï¼Œä¸»è¦åˆ†ä¸º 2 ä¸ªéƒ¨åˆ†:<br> * å®ç° Rollup æ’ä»¶é’©å­çš„è°ƒåº¦<br> * å®ç°æ’ä»¶é’©å­å†…éƒ¨çš„ Context ä¸Šä¸‹æ–‡å¯¹è±¡</p><p>å¯ä»¥é€šè¿‡ <a href="https://github.com/vitejs/vite/blob/main/packages/vite/src/node/server/pluginContainer.ts#L463" target="_blank" rel="noreferrer">container çš„å®šä¹‰</a> æ¥çœ‹çœ‹å„ä¸ª Rollup é’©å­çš„å®ç°æ–¹å¼ï¼Œä»£ç ç²¾ç®€åå¦‚ä¸‹:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼‚æ­¥ä¸²è¡Œé’©å­</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  options: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> options </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rollupOptions</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> plugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plugins) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plugin.options) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">continue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      options </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plugin.options.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(minimalContext, options)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> options</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> options;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })(),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼‚æ­¥å¹¶è¡Œé’©å­</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> buildStart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">all</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      plugins.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (plugin.buildStart) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plugin.buildStart.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(plugin) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            container.options </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NormalizedInputOptions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼‚æ­¥ä¼˜å…ˆé’©å­</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resolveId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">rawId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">importer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œåæ–‡ä»‹ç»</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ctx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> partial</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Partial</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PartialResolvedId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> plugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plugins) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plugin.resolveId.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ctx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        rawId,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        importer, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          ssr</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      )</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">continue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼‚æ­¥ä¼˜å…ˆé’©å­</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> load</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ctx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> plugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plugins) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plugin.load.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ctx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, id, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ssr</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼‚æ­¥ä¸²è¡Œé’©å­</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ssr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> options </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .ssr</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ¯æ¬¡ transform è°ƒåº¦è¿‡ç¨‹ä¼šæœ‰ä¸“é—¨çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œç”¨äºåˆå¹¶ SourceMapï¼Œåæ–‡ä¼šä»‹ç»</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    const ctx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransformContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(id, code, inMap </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SourceMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ctx.ssr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ssr</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (const plugin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plugins) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      let result: TransformResult </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> string </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      try {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plugin.transform.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ctx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, code, id, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          ssr</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      } </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (e) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ctx.error(e)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result) continue;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // çœç•¥ SourceMap åˆå¹¶çš„é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    return {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      code,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      map: ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_getCombinedSourcemap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // close é’©å­å®ç°çœç•¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>æˆ‘ä»¬å·²ç»ç³»ç»Ÿå­¦ä¹ è¿‡ Rollup ä¸­å¼‚æ­¥ã€ä¸²è¡Œã€å¹¶è¡Œç­‰é’©å­ç±»å‹çš„æ‰§è¡ŒåŸç†äº†ï¼Œç°åœ¨å†æ¥é˜…è¯»è¿™éƒ¨<br> åˆ† PluginContainer çš„å®ç°ä»£ç åº”è¯¥å¹¶ä¸å›°éš¾ã€‚ä¸è¿‡å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨å„ç§é’©å­è¢«è°ƒç”¨çš„æ—¶å€™ï¼ŒVite ä¼šå¼ºåˆ¶å°†<a href="https://so.csdn.net/so/search?q=%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0&amp;spm=1001.2101.3001.7020" target="_blank" rel="noreferrer">é’©å­å‡½æ•°</a>çš„ this ç»‘å®šä¸ºä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå¦‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ctx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plugin.load.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ctx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, id, { ssr })</span></span></code></pre></div><p>è¿™ä¸ªå¯¹è±¡ç©¶ç«Ÿæ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„å‘¢ï¼Ÿ æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ Rollup é’©å­å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ this.emitFile ã€ this.resolve ç­‰è¯¸å¤šçš„<a href="https://rollupjs.org/guide/en/#plugin-context" target="_blank" rel="noreferrer">ä¸Šä¸‹æ–‡æ–¹æ³•</a></p><p>å› æ­¤ï¼ŒVite é™¤äº†è¦æ¨¡æ‹Ÿå„ä¸ªæ’ä»¶çš„æ‰§è¡Œæµç¨‹ï¼Œè¿˜éœ€è¦æ¨¡æ‹Ÿæ’ä»¶æ‰§è¡Œçš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œä»£ç ä¸­çš„ Context å¯¹è±¡å°±æ˜¯ç”¨æ¥å®Œæˆè¿™ä»¶äº‹æƒ…çš„ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ Context å¯¹è±¡çš„å…·ä½“å®ç°:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  RollupPluginContext</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rollup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PluginContext</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Omit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  RollupPluginContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // not documented</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;cache&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // deprecated</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;emitAsset&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;emitChunk&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;getAssetFileName&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;getChunkFileName&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;isExternal&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;moduleIds&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;resolveId&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;load&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> watchFiles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &gt; ()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Context</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PluginContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å®ç°å„ç§ä¸Šä¸‹æ–‡æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è§£ææ¨¡å— AST(è°ƒç”¨ acorn)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">opts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parser.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(code, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      sourceType: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;module&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ecmaVersion: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;latest&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      locations: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">opts</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è§£ææ¨¡å—è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    importer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      skipSelf</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> skip</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (options </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .skipSelf </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._activePlugin) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      skip </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._resolveSkips)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      skip.add(this._activePlugin)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    let out </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> container.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolveId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(id, importer, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      skip,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ssr: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.ssr</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> out </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;string&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) out </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      id: out</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    return out </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ResolvedId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•å‡ä» Vite çš„æ¨¡å—ä¾èµ–å›¾ä¸­è·å–ç›¸å…³çš„ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚è¯¦ç»†ä»‹ç»æ¨¡å—ä¾èµ–å›¾ï¼Œæœ¬èŠ‚ä¸åšå±•å¼€</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getModuleInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(id: string) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    return </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getModuleInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getModuleIds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    return moduleGraph ?</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      moduleGraph.idToModuleMap.keys() :</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Symbol.iterator]()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è®°å½•å¼€å‘é˜¶æ®µ watch çš„æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  addWatchFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(id: string) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    watchFiles.add(id);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (this._addedImports || (this._addedImports </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .add(id)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">watcher</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ensureWatchedFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">watcher</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getWatchFiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    return [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">watchFiles]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  warn() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ‰“å° warning ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  error() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ‰“å° error ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å…¶å®ƒæ–¹æ³•åªæ˜¯å£°æ˜ï¼Œå¹¶æ²¡æœ‰å…·ä½“å®ç°ï¼Œè¿™é‡Œå°±çœç•¥äº†</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å¾ˆæ˜¾ç„¶ï¼ŒVite å°† Rollup çš„ PluginContext å¯¹è±¡é‡æ–°å®ç°äº†ä¸€éï¼Œå› ä¸ºåªæ˜¯å¼€å‘é˜¶æ®µç”¨åˆ°ï¼Œæ‰€ä»¥å»é™¤äº†ä¸€äº›æ‰“åŒ…ç›¸å…³çš„æ–¹æ³•å®ç°ã€‚åŒæ—¶ï¼Œä¸Šä¸‹æ–‡å¯¹è±¡ä¸ Vite å¼€å‘é˜¶æ®µçš„ModuleGraph å³æ¨¡å—ä¾èµ–å›¾ç›¸ç»“åˆï¼Œæ˜¯ä¸ºäº†å®ç°å¼€å‘æ—¶çš„ HMRã€‚ HMR å®ç°çš„ç»†èŠ‚ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚å±•å¼€ä»‹ç»ã€‚å¦å¤–ï¼Œtransform é’©å­ä¹Ÿä¼šç»‘å®šä¸€ä¸ªæ’ä»¶ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œä¸è¿‡è¿™ä¸ªå¯¹è±¡å’Œå…¶å®ƒé’©å­ä¸åŒï¼Œå®ç°ä»£ç ç²¾ç®€å¦‚ä¸‹:</p><pre><code>class TransformContext extends Context {
  constructor(filename: string, code: string, inMap ? : SourceMap | string) {

    super()
    this.filename = filename
    this.originalCode = code
    if (inMap) {
      this.sourcemapChain.push(inMap)
    }
  }
  _getCombinedSourcemap(createIfNull = false) {
    return this.combinedMap
  }
  getCombinedSourcemap() {
    return this._getCombinedSourcemap(true) as SourceMap
  }
}
</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œ TransformContext ç»§æ‰¿è‡ªä¹‹å‰æ‰€è¯´çš„ Context å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ transform é’©å­çš„ä¸Šä¸‹æ–‡å¯¹è±¡ç›¸æ¯”å…¶å®ƒé’©å­åªæ˜¯åšäº†ä¸€äº›æ‰©å±•ï¼Œå¢åŠ äº† sourcemap åˆå¹¶çš„åŠŸèƒ½ï¼Œå°†ä¸åŒæ’ä»¶çš„ transform é’©å­æ‰§è¡Œåè¿”å›çš„ sourcemap è¿›è¡Œåˆå¹¶ï¼Œä»¥ä¿è¯sourcemap çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§ã€‚</p><h4 id="æ’ä»¶å·¥ä½œæµæ¦‚è§ˆ" tabindex="-1">æ’ä»¶å·¥ä½œæµæ¦‚è§ˆ <a class="header-anchor" href="#æ’ä»¶å·¥ä½œæµæ¦‚è§ˆ" aria-label="Permalink to &quot;æ’ä»¶å·¥ä½œæµæ¦‚è§ˆ&quot;">â€‹</a></h4><ul><li>åœ¨åˆ†æé…ç½®è§£ææœåŠ¡çš„å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬æåˆ°è¿‡ç”Ÿæˆæ’ä»¶æµæ°´çº¿å³ resolvePlugins çš„é€»è¾‘ï¼Œ<br> ä½†æ²¡æœ‰å…·ä½“å±•å¼€ï¼Œè¿™é‡Œæˆ‘ä»¬å°±æ¥è¯¦ç»†æ‹†è§£ä¸€ä¸‹ Vite åœ¨è¿™ä¸€æ­¥ç©¶ç«Ÿåšäº†å•¥ã€‚</li></ul><p>è®©æˆ‘ä»¬æŠŠç›®å…‰é›†ä¸­åœ¨ resolvePlugins çš„<a href="https://github.com/vitejs/vite/blob/main/packages/vite/src/node/plugins/index.ts#L22" target="_blank" rel="noreferrer">å®ç°</a>ä¸Šï¼ŒVite æ‰€æœ‰çš„æ’ä»¶å°±æ˜¯åœ¨è¿™é‡Œè¢«æ”¶é›†èµ·æ¥<br> çš„ã€‚å…·ä½“å®ç°å¦‚ä¸‹</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resolvePlugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ResolvedConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  prePlugins</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[],</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  normalPlugins</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[],</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  postPlugins</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] &gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> isBuild</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config.command </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;build&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ”¶é›†ç”Ÿäº§ç¯å¢ƒæ„å»ºçš„æ’ä»¶ï¼Œåæ–‡ä¼šä»‹ç»</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> buildPlugins</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isBuild </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;../build&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolveBuildPlugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      pre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 1. åˆ«åæ’ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    isBuild </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> preAliasPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    aliasPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      entries: config.resolve.alias</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 2. ç”¨æˆ·è‡ªå®šä¹‰ pre æ’ä»¶(å¸¦æœ‰`enforce: &quot;pre&quot;`å±æ€§)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">prePlugins,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 3. Vite æ ¸å¿ƒæ„å»ºæ’ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ•°é‡æ¯”è¾ƒå¤šï¼Œæš‚æ—¶çœç•¥ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 4. ç”¨æˆ·æ’ä»¶ï¼ˆä¸å¸¦æœ‰ `enforce` å±æ€§ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">normalPlugins,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 5. Vite ç”Ÿäº§ç¯å¢ƒæ’ä»¶ &amp; ç”¨æˆ·æ’ä»¶(å¸¦æœ‰ `enforce: &quot;post&quot;`å±æ€§)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    definePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    cssPostPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">buildPlugins.pre,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">postPlugins,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">buildPlugins.post,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 6. ä¸€äº›å¼€å‘é˜¶æ®µç‰¹æœ‰çš„æ’ä»¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(isBuild </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clientInjectionsPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">importAnalysisPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config)])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Boolean) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><p>ä»ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥æ€»ç»“å‡º Vite æ’ä»¶çš„å…·ä½“æ‰§è¡Œé¡ºåºã€‚</p><ul><li>åˆ«åæ’ä»¶åŒ…æ‹¬ vite:pre-alias å’Œ @rollup/plugin-alias ï¼Œç”¨äºè·¯å¾„åˆ«åæ›¿æ¢ã€‚</li><li>ç”¨æˆ·è‡ªå®šä¹‰ pre æ’ä»¶ï¼Œä¹Ÿå°±æ˜¯å¸¦æœ‰ enforce: â€œpreâ€ å±æ€§çš„è‡ªå®šä¹‰æ’ä»¶ã€‚</li><li>Vite æ ¸å¿ƒæ„å»ºæ’ä»¶ï¼Œè¿™éƒ¨åˆ†æ’ä»¶ä¸º Vite çš„æ ¸å¿ƒç¼–è¯‘æ’ä»¶ï¼Œæ•°é‡æ¯”è¾ƒå¤šï¼Œæˆ‘ä»¬åœ¨ä¸‹éƒ¨åˆ†ä¸€ä¸€æ‹†è§£ã€‚</li><li>ç”¨æˆ·è‡ªå®šä¹‰çš„æ™®é€šæ’ä»¶ï¼Œå³ä¸å¸¦æœ‰ enforce å±æ€§çš„è‡ªå®šä¹‰æ’ä»¶ã€‚</li><li>Vite ç”Ÿäº§ç¯å¢ƒæ’ä»¶ å’Œç”¨æˆ·æ’ä»¶ä¸­å¸¦æœ‰ enforce: â€œpostâ€ å±æ€§çš„æ’ä»¶ã€‚</li><li>ä¸€äº›å¼€å‘é˜¶æ®µç‰¹æœ‰çš„æ’ä»¶ï¼ŒåŒ…æ‹¬ç¯å¢ƒå˜é‡æ³¨å…¥æ’ä»¶ clientInjectionsPlugin å’Œ import è¯­å¥åˆ†æåŠé‡å†™æ’ä»¶ importAnalysisPlugin</li></ul></li><li><p>åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ Vite åˆ°åº•åº”ç”¨äº†å“ªäº›æ’ä»¶ï¼Œä»¥åŠè¿™äº›æ’ä»¶å†…éƒ¨ç©¶ç«Ÿåšäº†ä»€ä¹ˆï¼Ÿæˆ‘ä»¬æ¥ä¸€ä¸€æ¢³ç†ä¸€ä¸‹ã€‚</p></li></ul><h4 id="æ’ä»¶åŠŸèƒ½æ¢³ç†" tabindex="-1">æ’ä»¶åŠŸèƒ½æ¢³ç† <a class="header-anchor" href="#æ’ä»¶åŠŸèƒ½æ¢³ç†" aria-label="Permalink to &quot;æ’ä»¶åŠŸèƒ½æ¢³ç†&quot;">â€‹</a></h4><p>é™¤ç”¨æˆ·è‡ªå®šä¹‰æ’ä»¶ä¹‹å¤–ï¼Œæˆ‘ä»¬éœ€è¦æ¢³ç†çš„ Vite å†…ç½®æ’ä»¶æœ‰ä¸‹é¢è¿™å‡ ç±»:</p><ul><li>åˆ«åæ’ä»¶</li><li>æ ¸å¿ƒæ„å»ºæ’ä»¶</li><li>ç”Ÿäº§ç¯å¢ƒç‰¹æœ‰æ’ä»¶</li><li>å¼€å‘ç¯å¢ƒç‰¹æœ‰æ’ä»¶</li></ul><p>1 ï¼‰åˆ«åæ’ä»¶</p><ul><li><p>åˆ«åæ’ä»¶æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯ <a href="https://github.com/vitejs/vite/blob/72cb33e947e7aa72d27ed0c5eacb2457d523dfbf/packages/vite/src/node/plugins/preAlias.ts" target="_blank" rel="noreferrer">vite:pre-alias</a> å’Œ <a href="https://github.com/vitejs/vite/blob/72cb33e947e7aa72d27ed0c5eacb2457d523dfbf/packages/vite/src/node/plugins/index.ts#L3" target="_blank" rel="noreferrer">@rollup/plugin-alias</a>ã€‚ å‰è€…ä¸»è¦æ˜¯ä¸ºäº†å°† bare import è·¯å¾„é‡å®šå‘åˆ°é¢„æ„å»ºä¾èµ–çš„è·¯å¾„ï¼Œå¦‚:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‡è®¾ React å·²ç»è¿‡ Vite é¢„æ„å»º</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¼šè¢«é‡å®šå‘åˆ°é¢„æ„å»ºäº§ç‰©çš„è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/node_modules/.vite/react.js&#39;</span></span></code></pre></div></li></ul><p>åè€…åˆ™æ˜¯å®ç°äº†æ¯”è¾ƒé€šç”¨çš„è·¯å¾„åˆ«å(å³ resolve.alias é…ç½®)çš„åŠŸèƒ½ï¼Œä½¿ç”¨çš„æ˜¯ <a href="https://github.com/rollup/plugins/tree/master/packages/alias#rollupplugin-alias" target="_blank" rel="noreferrer">Rollup</a><br><a href="https://github.com/rollup/plugins/tree/master/packages/alias#rollupplugin-alias" target="_blank" rel="noreferrer">å®˜æ–¹ Alias æ’ä»¶</a></p><p>2 ) æ ¸å¿ƒæ„å»ºæ’ä»¶</p><p>2.1 module preload ç‰¹æ€§çš„ Polyfill</p><p>å½“ä½ åœ¨ Vite é…ç½®æ–‡ä»¶ä¸­å¼€å¯ä¸‹é¢è¿™ä¸ªé…ç½®æ—¶:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 	polyfillModulePreload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>Vite ä¼šè‡ªåŠ¨åº”ç”¨ modulePreloadPolyfillPlugin æ’ä»¶ï¼Œåœ¨äº§ç‰©ä¸­æ³¨å…¥ module preload çš„ Polyfill ä»£ç ï¼Œ<a href="https://github.com/vitejs/vite/blob/2b7e836f84b56b5f3dc81e0f5f161a9b5f9154c0/packages/vite/src/node/plugins/modulePreloadPolyfill.ts#L7" target="_blank" rel="noreferrer">å…·ä½“å®ç°</a> æ‘˜è‡ªä¹‹å‰æˆ‘ä»¬æåˆ°è¿‡çš„ es-module-shims è¿™ä¸ªåº“ï¼Œå®ç°åŸç†å¦‚ä¸‹: <ul><li>æ‰«æå‡ºå½“å‰æ‰€æœ‰çš„ modulepreload æ ‡ç­¾ï¼Œæ‹¿åˆ° link æ ‡ç­¾å¯¹åº”çš„åœ°å€ï¼Œé€šè¿‡æ‰§è¡Œ<br> fetch å®ç°é¢„åŠ è½½ï¼›</li><li>åŒæ—¶é€šè¿‡ MutationObserver ç›‘å¬ DOM çš„å˜åŒ–ï¼Œä¸€æ—¦å‘ç°åŒ…å« modulepreload<br> å±æ€§çš„ link æ ‡ç­¾ï¼Œåˆ™åŒæ ·é€šè¿‡ fetch è¯·æ±‚å®ç°é¢„åŠ è½½ã€‚</li></ul></li></ul><p>ç”±äºéƒ¨åˆ†æ”¯æŒåŸç”Ÿ ESM çš„æµè§ˆå™¨å¹¶ä¸æ”¯æŒ module preloadï¼Œå› æ­¤æŸäº›æƒ…å†µä¸‹<br> éœ€è¦æ³¨å…¥ç›¸åº”çš„ polyfill è¿›è¡Œé™çº§ã€‚</p><p>2.2 ) è·¯å¾„è§£ææ’ä»¶</p><p>è·¯å¾„è§£ææ’ä»¶(å³ vite:resolve )æ˜¯ Vite ä¸­æ¯”è¾ƒæ ¸å¿ƒçš„æ’ä»¶ï¼Œå‡ ä¹æ‰€æœ‰é‡è¦çš„ Vite ç‰¹æ€§<br> éƒ½ç¦»ä¸å¼€è¿™ä¸ªæ’ä»¶çš„å®ç°ï¼Œè¯¸å¦‚ä¾èµ–é¢„æ„å»ºã€HMRã€SSR ç­‰ç­‰ã€‚åŒæ—¶å®ƒä¹Ÿæ˜¯å®ç°ç›¸å½“å¤<br> æ‚çš„æ’ä»¶ï¼Œä¸€æ–¹é¢å®ç°äº† <a href="https://nodejs.org/api/modules.html#modules_all_together" target="_blank" rel="noreferrer">Node.js å®˜æ–¹çš„ resolve ç®—æ³•</a>ï¼Œå¦ä¸€æ–¹é¢éœ€è¦æ”¯æŒå‰é¢æ‰€è¯´çš„<br> å„é¡¹ç‰¹æ€§ï¼Œå¯ä»¥è¯´æ˜¯ä¸“é—¨ç»™ Vite å®ç°äº†ä¸€å¥—è·¯å¾„è§£æç®—æ³•ã€‚</p><p>è¿™ä¸ªæ’ä»¶çš„å®ç°ç»†èŠ‚è¶³ä»¥å†å¼€ä¸€ä¸ªå°èŠ‚ä¸“é—¨åˆ†æäº†ï¼Œæ‰€ä»¥æœ¬èŠ‚æˆ‘ä»¬å°±ä¸å±•å¼€äº†ï¼Œä½ åˆæ­¥äº†è§£å°±å¯ä»¥äº†ã€‚</p><p>2.3 ) å†…è”è„šæœ¬åŠ è½½æ’ä»¶</p><p>å¯¹äº HTML ä¸­çš„å†…è”è„šæœ¬ï¼ŒVite ä¼šé€šè¿‡ vite:html-inline-script-proxy æ’ä»¶æ¥è¿›è¡ŒåŠ è½½ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ª script æ ‡ç­¾:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import React from &#39;react&#39;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.log(React)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>è¿™äº›å†…å®¹ä¼šåœ¨åç»­çš„ build-html æ’ä»¶ä» HTML ä»£ç ä¸­å‰”é™¤ï¼Œå¹¶ä¸”å˜æˆä¸‹é¢çš„è¿™ä¸€è¡Œä»£ç æ’å…¥åˆ°é¡¹ç›®å…¥å£æ¨¡å—çš„ä»£ç ä¸­: <code>import &#39;/User/xxx/vite-app/index.html?http-proxy&amp;index=0.js&#39;</code></p><p>è€Œ vite:html-inline-script-proxy å°±æ˜¯ç”¨æ¥åŠ è½½è¿™æ ·çš„æ¨¡å—ï¼Œå®ç°å¦‚ä¸‹:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> htmlProxyRE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\?</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">html-proxy&amp;index=(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">)</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">js</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> htmlInlineScriptProxyPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ResolvedConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;vite:html-inline-script-proxy&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    load</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> proxyMatch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">match</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(htmlProxyRE)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (proxyMatch) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> index</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(proxyMatch[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cleanUrl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(id)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">normalizePath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config.root), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å†…è”è„šæœ¬çš„å†…å®¹ä¼šè¢«è®°å½•åœ¨ htmlProxyMap è¿™ä¸ªè¡¨ä¸­</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> htmlProxyMap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(url) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[index]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;string&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // åŠ è½½è„šæœ¬çš„å…·ä½“å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`No matching HTML proxy module found from ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>2.4 ) CSS ç¼–è¯‘æ’ä»¶</p><ul><li><p>å³åä¸º vite:css çš„æ’ä»¶ï¼Œä¸»è¦å®ç°ä¸‹é¢è¿™äº›åŠŸèƒ½:</p><ul><li>CSS é¢„å¤„ç†å™¨çš„ç¼–è¯‘</li><li>CSS Modules</li><li>Postcss ç¼–è¯‘</li><li>é€šè¿‡ @import è®°å½•ä¾èµ– ï¼Œä¾¿äº HMR</li></ul></li><li><p>è¿™ä¸ªæ’ä»¶çš„æ ¸å¿ƒåœ¨äº compileCSS å‡½æ•°çš„å®ç°ï¼Œæ„Ÿå…´è¶£, å¯ä»¥é˜…è¯»ä¸€ä¸‹è¿™éƒ¨åˆ†çš„<a href="https://github.com/vitejs/vite/blob/2b7e836f84b56b5f3dc81e0f5f161a9b5f9154c0/packages/vite/src/node/plugins/css.ts#L568" target="_blank" rel="noreferrer">æºç </a></p></li></ul><p>2.5 ) Esbuild è½¬è¯‘æ’ä»¶</p><p>å³åä¸º vite:esbuild çš„<a href="https://github.com/vitejs/vite/blob/2b7e836f84b56b5f3dc81e0f5f161a9b5f9154c0/packages/vite/src/node/plugins/esbuild.ts" target="_blank" rel="noreferrer">æ’ä»¶</a>ï¼Œç”¨æ¥è¿›è¡Œ .js ã€ .ts ã€ .jsx å’Œ tsx ï¼Œä»£æ›¿äº†ä¼ ç»Ÿçš„ Babel æˆ–è€… TSC çš„åŠŸèƒ½ï¼Œè¿™ä¹Ÿæ˜¯ Vite å¼€å‘é˜¶æ®µæ€§èƒ½å¼ºæ‚çš„ä¸€ä¸ªåŸå› ã€‚æ’ä»¶ä¸­ä¸»è¦çš„é€»è¾‘æ˜¯ transformWithEsbuild å‡½æ•°ï¼Œé¡¾åæ€ä¹‰ï¼Œä½ å¯ä»¥é€šè¿‡è¿™ä¸ªå‡½æ•°è¿›è¡Œä»£ç è½¬è¯‘ã€‚å½“ç„¶ï¼ŒVite æœ¬èº«ä¹Ÿå¯¼å‡ºäº†è¿™ä¸ªå‡½æ•°ï¼Œä½œä¸ºä¸€ç§é€šç”¨çš„ transform èƒ½åŠ›ï¼Œä½ å¯ä»¥è¿™æ ·æ¥ä½¿ç”¨</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { transformWithEsbuild } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¼ å…¥ä¸¤ä¸ªå‚æ•°: code, filename</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">transformWithEsbuild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;h1&gt;hello&lt;/h1&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./index.tsx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // warnings: [],</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // code: &#39;/* @__PURE__ */ React.createElement(&quot;h1&quot;, null, &quot;hello&quot;);\n&#39;,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // map: {/* sourcemap ä¿¡æ¯ */}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>2.6 ) é™æ€èµ„æºåŠ è½½æ’ä»¶</p><ul><li>é™æ€èµ„æºåŠ è½½æ’ä»¶åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ª: <ul><li>vite:json ç”¨æ¥åŠ è½½ JSON æ–‡ä»¶ï¼Œé€šè¿‡ @rollup/pluginutils çš„ dataToEsm æ–¹æ³•å¯å®<br> ç° JSON çš„æŒ‰åå¯¼å…¥ï¼Œå…·ä½“å®ç°è§<a href="https://github.com/vitejs/vite/blob/2b7e836f84b56b5f3dc81e0f5f161a9b5f9154c0/packages/vite/src/node/plugins/json.ts#L30" target="_blank" rel="noreferrer">é“¾æ¥</a>ï¼›</li><li>vite:wasm ç”¨æ¥åŠ è½½ .wasm æ ¼å¼çš„æ–‡ä»¶ï¼Œå…·ä½“å®ç°è§<a href="https://github.com/vitejs/vite/blob/2b7e836f84b56b5f3dc81e0f5f161a9b5f9154c0/packages/vite/src/node/plugins/wasm.ts#L45" target="_blank" rel="noreferrer">é“¾æ¥</a>ï¼›</li><li>vite:worker ç”¨æ¥ Web Worker è„šæœ¬ï¼Œæ’ä»¶å†…éƒ¨ä¼šä½¿ç”¨ Rollup å¯¹ Worker è„šæœ¬è¿›<br> è¡Œæ‰“åŒ…ï¼Œå…·ä½“å®ç°è§<a href="https://github.com/vitejs/vite/blob/2b7e836f84b56b5f3dc81e0f5f161a9b5f9154c0/packages/vite/src/node/plugins/worker.ts" target="_blank" rel="noreferrer">é“¾æ¥</a>ï¼›</li><li>vite:assetï¼Œå¼€å‘é˜¶æ®µå®ç°äº†å…¶ä»–æ ¼å¼é™æ€èµ„æºçš„åŠ è½½ï¼Œè€Œç”Ÿäº§ç¯å¢ƒä¼šé€šè¿‡ renderChunk é’©å­å°†é™æ€èµ„æºåœ°å€é‡å†™ä¸ºäº§ç‰©çš„æ–‡ä»¶åœ°å€ï¼Œå¦‚ ./img.png é‡å†™ä¸º <a href="https://cdn.xxx.com/assets/img.91ee297e.png" target="_blank" rel="noreferrer">https://cdn.xxx.com/assets/img.91ee297e.png</a></li></ul></li></ul><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒRollup æœ¬èº«å­˜åœ¨ <a href="https://bundlers.tooling.report/hashing/asset-cascade/" target="_blank" rel="noreferrer">asset cascade</a> é—®é¢˜ï¼Œå³é™æ€èµ„æºå“ˆå¸Œæ›´æ–°ï¼Œå¼•ç”¨å®ƒçš„<br> JS çš„å“ˆå¸Œå¹¶æ²¡æœ‰æ›´æ–°(issue <a href="https://github.com/rollup/rollup/issues/3415" target="_blank" rel="noreferrer">é“¾æ¥</a>)ã€‚å› æ­¤ Vite åœ¨é™æ€èµ„æºå¤„ç†çš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰äº¤ç»™<br> Rollup ç”Ÿæˆèµ„æºå“ˆå¸Œï¼Œè€Œæ˜¯è‡ªå·±æ ¹æ®èµ„æºå†…å®¹ç”Ÿæˆå“ˆå¸Œ(<a href="https://github.com/vitejs/vite/blob/2b7e836f84b56b5f3dc81e0f5f161a9b5f9154c0/packages/vite/src/node/plugins/asset.ts#L306" target="_blank" rel="noreferrer">æºç å®ç°</a>)ï¼Œå¹¶æ‰‹åŠ¨è¿›è¡Œè·¯å¾„é‡<br> å†™ï¼Œä»¥æ­¤é¿å… asset-cascade é—®é¢˜ã€‚</p><p>3 ) ç”Ÿäº§ç¯å¢ƒç‰¹æœ‰æ’ä»¶</p><p>3.1 ï¼‰å…¨å±€å˜é‡æ›¿æ¢æ’ä»¶</p><p>æä¾›å…¨å±€å˜é‡æ›¿æ¢åŠŸèƒ½ï¼Œå¦‚ä¸‹é¢çš„è¿™ä¸ªé…ç½®:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// vite.config.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> version</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;2.0.0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> define: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> __APP_VERSION__: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`JSON.stringify(${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">})`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å…¨å±€å˜é‡æ›¿æ¢çš„åŠŸèƒ½å’Œæˆ‘ä»¬ä¹‹å‰åœ¨ Rollup æ’ä»¶å°èŠ‚ä¸­æåˆ°çš„<a href="https://github.com/rollup/plugins/tree/master/packages/replace" target="_blank" rel="noreferrer">@rollup/pluginreplace</a> å·®ä¸å¤šï¼Œå½“ç„¶åœ¨å®ç°ä¸Š Vite ä¼šæœ‰æ‰€åŒºåˆ«:</p><ul><li><p>å¼€å‘ç¯å¢ƒä¸‹ï¼ŒVite ä¼šé€šè¿‡å°†æ‰€æœ‰çš„å…¨å±€å˜é‡æŒ‚è½½åˆ° window å¯¹è±¡ï¼Œè€Œä¸ç”¨ç»è¿‡<br> define æ’ä»¶çš„å¤„ç†ï¼ŒèŠ‚çœç¼–è¯‘å¼€é”€ï¼›</p></li><li><p>ç”Ÿäº§ç¯å¢ƒä¸‹ï¼ŒVite ä¼šä½¿ç”¨ <a href="https://github.com/vitejs/vite/blob/main/packages/vite/src/node/plugins/define.ts" target="_blank" rel="noreferrer">define æ’ä»¶</a>ï¼Œè¿›è¡Œå­—ç¬¦ä¸²æ›¿æ¢ä»¥åŠ sourcemap ç”Ÿæˆã€‚</p></li><li><p>ç‰¹æ®Šæƒ…å†µ: SSR æ„å»ºä¼šåœ¨å¼€å‘ç¯å¢ƒç»è¿‡è¿™ä¸ªæ’ä»¶ï¼Œä»…æ›¿æ¢å­—ç¬¦ä¸²ã€‚</p></li></ul><p>3.2 ) CSS åå¤„ç†æ’ä»¶</p><p>CSS åå¤„ç†æ’ä»¶å³ name ä¸º vite:css-post çš„æ’ä»¶ï¼Œå®ƒçš„åŠŸèƒ½åŒ…æ‹¬ å¼€å‘é˜¶æ®µ CSS å“åº”ç»“æœå¤„ç† å’Œ ç”Ÿäº§ç¯å¢ƒ CSS æ–‡ä»¶ç”Ÿæˆ</p><p>é¦–å…ˆï¼Œåœ¨å¼€å‘é˜¶æ®µï¼Œè¿™ä¸ªæ’ä»¶ä¼šå°†ä¹‹å‰çš„ CSS ç¼–è¯‘æ’ä»¶å¤„ç†åçš„ç»“æœï¼ŒåŒ…è£…æˆä¸€ä¸ªESM æ¨¡å—ï¼Œè¿”å›ç»™æµè§ˆå™¨ï¼Œç‚¹å‡»æŸ¥çœ‹<a href="https://github.com/vitejs/vite/blob/2b7e836f84b56b5f3dc81e0f5f161a9b5f9154c0/packages/vite/src/node/plugins/css.ts#L284" target="_blank" rel="noreferrer">å®ç°ä»£ç </a></p><p>å…¶æ¬¡ï¼Œç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒVite é»˜è®¤ä¼šé€šè¿‡è¿™ä¸ªæ’ä»¶è¿›è¡Œ CSS çš„ code splittingï¼Œå³å¯¹äºæ¯ä¸ªå¼‚æ­¥ chunkï¼ŒVite ä¼šå°†å…¶ä¾èµ–çš„ CSS ä»£ç å•ç‹¬æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå…³é”®ä»£ç å¦‚ä¸‹(<a href="https://github.com/vitejs/vite/blob/2b7e836f84b56b5f3dc81e0f5f161a9b5f9154c0/packages/vite/src/node/plugins/css.ts#L400" target="_blank" rel="noreferrer">æºç é“¾æ¥</a>):</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fileHandle</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">emitFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: chunk.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;asset&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> source: chunkCSS</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>å¦‚æœ CSS çš„ code splitting åŠŸèƒ½è¢«å…³é—­(é€šè¿‡ build.cssCodeSplit é…ç½®)ï¼Œé‚£ä¹ˆ Vite ä¼šå°†æ‰€æœ‰çš„ CSS ä»£ç æ‰“åŒ…åˆ°åŒä¸€ä¸ª CSS æ–‡ä»¶ä¸­ï¼Œç‚¹å‡»<a href="https://github.com/vitejs/vite/blob/2b7e836f84b56b5f3dc81e0f5f161a9b5f9154c0/packages/vite/src/node/plugins/css.ts#L433" target="_blank" rel="noreferrer">æŸ¥çœ‹å®ç°</a></p><p>æœ€åï¼Œæ’ä»¶ä¼šè°ƒç”¨ Esbuild å¯¹ CSS è¿›è¡Œå‹ç¼©ï¼Œå®ç°åœ¨ minifyCSS å‡½æ•°ä¸­ï¼Œç‚¹å‡»<a href="https://github.com/vitejs/vite/blob/2b7e836f84b56b5f3dc81e0f5f161a9b5f9154c0/packages/vite/src/node/plugins/css.ts#L905" target="_blank" rel="noreferrer">æŸ¥çœ‹å®ç°</a></p><p>3.3 ) HTML æ„å»ºæ’ä»¶</p><p>HTML æ„å»ºæ’ä»¶ å³ build-html æ’ä»¶ã€‚ä¹‹å‰æˆ‘ä»¬åœ¨ å†…è”è„šæœ¬åŠ è½½æ’ä»¶ ä¸­æåˆ°è¿‡ï¼Œé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ html ä¼šè½¬æ¢ä¸ºä¸€æ®µ JavaScript ä»£ç ï¼Œå¦‚ä¸‹é¢çš„è¿™ä¸ªä¾‹å­:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;!</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DOCTYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> html</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lang</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;en&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> charset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UTF-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> http-equiv</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;X-UA-Compatible&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> content</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;IE=edge&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;viewport&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> content</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Document&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> // æ™®é€šæ–¹å¼å¼•å…¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index.ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> // å†…è”è„šæœ¬</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	 import React from &#39;react&#39;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	 console.log(React)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>é¦–å…ˆï¼Œå½“ Vite åœ¨ç”Ÿäº§ç¯å¢ƒ transform è¿™æ®µå…¥å£ HTML æ—¶ï¼Œä¼šåš 3 ä»¶äº‹æƒ…: å¯¹ HTML æ‰§è¡Œå„ä¸ªæ’ä»¶ä¸­å¸¦æœ‰ enforce: â€œpreâ€ å±æ€§çš„ transformIndexHtml é’©å­ï¼›æˆ‘ä»¬çŸ¥é“æ’ä»¶æœ¬èº«å¯ä»¥å¸¦æœ‰ enforce: â€œpreâ€|â€œpostâ€ å±æ€§ï¼Œè€Œ<br> transformIndexHtml æœ¬èº«ä¹Ÿå¯ä»¥å¸¦æœ‰è¿™ä¸ªå±æ€§ï¼Œç”¨äºåœ¨ä¸åŒçš„é˜¶æ®µè¿›è¡Œ HTMLè½¬æ¢ã€‚åé¢ä¼šè®¨è®º transformIndexHtml é’©å­å¸¦æœ‰ enforce: â€œpostâ€ æ—¶çš„æ‰§è¡Œæ—¶æœºã€‚</p><p>å°†å…¶ä¸­çš„ script æ ‡ç­¾å†…å®¹åˆ é™¤ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸º import è¯­å¥ å¦‚ import â€˜./index.tsâ€™ ï¼Œå¹¶è®°å½•ä¸‹æ¥ï¼›<br> åœ¨ transform é’©å­ä¸­è¿”å›è®°å½•ä¸‹æ¥çš„ import å†…å®¹ï¼Œå°† import è¯­å¥ä½œä¸ºæ¨¡å—å†…å®¹<br> è¿›è¡ŒåŠ è½½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè™½ç„¶ Vite å¤„ç†çš„æ˜¯ä¸€ä¸ª HTML æ–‡ä»¶ï¼Œä½†æœ€åè¿›è¡Œæ‰“åŒ…çš„å†…<br> å®¹å´æ˜¯ä¸€æ®µ JS çš„å†…å®¹ï¼Œ<a href="https://github.com/vitejs/vite/blob/main/packages/vite/src/node/plugins/html.ts#L233" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹å…·ä½“å®ç°</a>ã€‚ä»£ç ç®€åŒ–åå¦‚ä¸‹æ‰€ç¤º:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> buildHtmlPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;vite:build&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(html, id) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (id.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">endsWith</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> js </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // çœç•¥ HTML AST éå†è¿‡ç¨‹(é€šè¿‡ @vue/compiler-dom å®ç°)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // æ”¶é›† script æ ‡ç­¾ï¼Œè½¬æ¢æˆ import è¯­å¥ï¼Œæ‹¼æ¥åˆ° js å­—ç¬¦ä¸²ä¸­</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> js;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å…¶æ¬¡ï¼Œåœ¨ç”Ÿæˆäº§ç‰©çš„æœ€åä¸€æ­¥å³ generateBundle é’©å­ä¸­ï¼Œæ‹¿åˆ°å…¥å£ Chunkï¼Œåˆ†æå…¥å£<br> Chunk çš„å†…å®¹, åˆ†æƒ…å†µè¿›è¡Œå¤„ç†ã€‚å¦‚æœåªæœ‰ import è¯­å¥ï¼Œå…ˆé€šè¿‡ Rollup æä¾›çš„ chunk å’Œ bundle å¯¹è±¡è·å–å…¥å£ chunkæ‰€æœ‰çš„ä¾èµ– chunkï¼Œå¹¶å°†è¿™äº› chunk è¿›è¡Œååºæ’åˆ—ï¼Œå¦‚ a ä¾èµ– bï¼Œb ä¾èµ– c ï¼Œæœ€åçš„ä¾èµ–æ•°ç»„å°±æ˜¯ [c, b, a] ã€‚ç„¶åä¾æ¬¡å°† cï¼Œb, a ç”Ÿæˆä¸‰ä¸ª script æ ‡ç­¾ï¼Œæ’å…¥ HTML ä¸­ã€‚æœ€åï¼ŒVite ä¼šå°†å…¥å£ chunk çš„å†…å®¹ä» bundle äº§ç‰©ä¸­ç§»é™¤ï¼Œå› æ­¤å®ƒçš„å†…å®¹åªè¦ import è¯­å¥ï¼Œè€Œå®ƒ import çš„ chunk å·²ç»ä½œä¸º script æ ‡ç­¾æ’å…¥åˆ°äº† HTML ä¸­ï¼Œé‚£å…¥å£ Chunkçš„å­˜åœ¨ä¹Ÿå°±æ²¡æœ‰æ„ä¹‰äº†ã€‚å¦‚æœé™¤äº† import è¯­å¥ï¼Œè¿˜æœ‰å…¶å®ƒå†…å®¹ï¼Œ Vite å°±ä¼šå°†å…¥å£ Chunk å•ç‹¬ç”Ÿæˆä¸€ä¸ª script æ ‡ç­¾ ï¼Œåˆ†æå‡ºä¾èµ–çš„ååºæ’åˆ—(å’Œä¸Šä¸€ç§æƒ…å†µåˆ†ææ‰‹æ®µä¸€æ ·)ï¼Œç„¶åé€šè¿‡æ³¨å…¥ æ ‡ç­¾ å¯¹å…¥å£æ–‡ä»¶çš„ä¾èµ– chunk è¿›è¡Œé¢„åŠ è½½ã€‚</p><p>æœ€åï¼Œæ’ä»¶ä¼šè°ƒç”¨ç”¨æˆ·æ’ä»¶ä¸­å¸¦æœ‰ enforce: â€œpostâ€ å±æ€§çš„ transformIndexHtml é’©å­ï¼Œå¯¹ HTML è¿›è¡Œè¿›ä¸€æ­¥çš„å¤„ç†ã€‚<a href="https://github.com/vitejs/vite/blob/main/packages/vite/src/node/plugins/html.ts#L471" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹å…·ä½“å®ç°</a>ã€‚</p><p>3.4 ) Commonjs è½¬æ¢æ’ä»¶</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸­ï¼ŒVite ä½¿ç”¨ Esbuild å°† Commonjs è½¬æ¢ä¸º ESMï¼Œè€Œç”Ÿäº§ç¯å¢ƒ<br> ä¸­ï¼ŒVite ä¼šç›´æ¥ä½¿ç”¨ Rollup çš„å®˜æ–¹æ’ä»¶ <a href="https://github.com/rollup/plugins/tree/master/packages/commonjs" target="_blank" rel="noreferrer">@rollup/plugin-commonjs</a>ã€‚</p><p>3.5 ) date-uri æ’ä»¶</p><p>date-uri æ’ä»¶ç”¨æ¥æ”¯æŒ import æ¨¡å—ä¸­å«æœ‰ Base64 ç¼–ç çš„æƒ…å†µï¼Œå¦‚: <code>import batman from &#39;data:application/json;base64, eyAiYmF0bWFuIjogInRydWUiIH0=&#39;;</code></p><p><a href="https://github.com/vitejs/vite/blob/2b7e836f84b56b5f3dc81e0f5f161a9b5f9154c0/packages/vite/src/node/plugins/dataUri.ts#L14" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹å®ç°</a></p><p>3.6 ) dynamic-import-vars æ’ä»¶</p><p>ç”¨äºæ”¯æŒåœ¨åŠ¨æ€ import ä¸­ä½¿ç”¨å˜é‡çš„åŠŸèƒ½ï¼Œå¦‚ä¸‹ç¤ºä¾‹ä»£ç :</p><pre><code>function importLocale(locale) {
 return import(`./locales/${locale}.js`);
}
</code></pre><p>å†…éƒ¨ä½¿ç”¨çš„æ˜¯ Rollup çš„å®˜æ–¹æ’ä»¶ <a href="https://github.com/rollup/plugins/tree/master/packages/dynamic-import-vars" target="_blank" rel="noreferrer">@rollup/plugin-dynamic-import-vars</a></p><p>3.7 ) import-meta-url æ”¯æŒæ’ä»¶</p><p>ç”¨æ¥è½¬æ¢å¦‚ä¸‹æ ¼å¼çš„èµ„æº URL: <code>new URL(&#39;./foo.png&#39;, import.meta.url)</code><br> å°†å…¶è½¬æ¢ä¸ºç”Ÿäº§ç¯å¢ƒçš„ URL æ ¼å¼ï¼Œå¦‚:</p><pre><code>// ä½¿ç”¨ self.location æ¥ä¿è¯ä½ç‰ˆæœ¬æµè§ˆå™¨å’Œ Web Worker ç¯å¢ƒçš„å…¼å®¹æ€§
new URL(&#39;./assets.a4b3d56d.png, self.location)
</code></pre><p>å°†å…¶è½¬æ¢ä¸ºç”Ÿäº§ç¯å¢ƒçš„ URL æ ¼å¼ï¼Œå¦‚:</p><pre><code>// ä½¿ç”¨ self.location æ¥ä¿è¯ä½ç‰ˆæœ¬æµè§ˆå™¨å’Œ Web Worker ç¯å¢ƒçš„å…¼å®¹æ€§
new URL(&#39;./assets.a4b3d56d.png, self.location)
</code></pre><p>åŒæ—¶ï¼Œå¯¹äºåŠ¨æ€ import çš„æƒ…å†µä¹Ÿèƒ½è¿›è¡Œæ”¯æŒï¼Œå¦‚ä¸‹é¢çš„è¿™ç§å†™æ³•:</p><pre><code>function getImageUrl(name) {
 return new URL(`./dir/${name}.png`, import.meta.url).href
}
</code></pre><p>Vite è¯†åˆ«åˆ° ./dir/${name}.png è¿™æ ·çš„æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œä¼šå°†æ•´è¡Œä»£ç è½¬æ¢æˆä¸‹é¢è¿™æ ·:</p><pre><code>function getImageUrl(name) {
 return import.meta.globEager(&#39;./dir/**.png&#39;)[`./dir/${name}.png`].default;
}
</code></pre><p><a href="https://github.com/vitejs/vite/blob/2b7e836f84b56b5f3dc81e0f5f161a9b5f9154c0/packages/vite/src/node/plugins/assetImportMetaUrl.ts#L18" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹å…·ä½“å®ç°</a></p><p>3.8 ) ç”Ÿäº§ç¯å¢ƒ import åˆ†ææ’ä»¶</p><p>vite:build-import-analysis æ’ä»¶ä¼šåœ¨ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…æ—¶ç”¨ä½œ import è¯­å¥åˆ†æå’Œé‡å†™ï¼Œä¸»è¦ç›®çš„æ˜¯å¯¹åŠ¨æ€ import çš„æ¨¡å—è¿›è¡Œé¢„åŠ è½½å¤„ç†ã€‚å¯¹å«æœ‰åŠ¨æ€ import çš„ chunk è€Œè¨€ï¼Œä¼šåœ¨æ’ä»¶çš„ tranform é’©å­ä¸­è¢«æ·»åŠ è¿™æ ·ä¸€æ®µå·¥å…·ä»£ç ç”¨æ¥è¿›è¡Œæ¨¡å—é¢„åŠ è½½ï¼Œé€»è¾‘å¹¶ä¸å¤æ‚ï¼Œä½ å¯ä»¥å‚è€ƒ<a href="https://github.com/vitejs/vite/blob/v2.7.0/packages/vite/src/node/plugins/importAnalysisBuild.ts#L43" target="_blank" rel="noreferrer">æºç å®ç°</a>ã€‚å…³é”®ä»£ç ç®€åŒ–åå¦‚ä¸‹:</p><pre><code>function preload(importModule, deps) {
  return Promise.all(
      deps.map(dep =&gt; {
        // å¦‚æœå¼‚æ­¥æ¨¡å—çš„ä¾èµ–è¿˜æ²¡æœ‰åŠ è½½
        if (!alreadyLoaded(dep)) {
          // åˆ›å»º link æ ‡ç­¾åŠ è½½ï¼ŒåŒ…æ‹¬ JS æˆ–è€… CSS
          document.head.appendChild(createLink(dep))
          // å¦‚æœæ˜¯ CSSï¼Œè¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œåæ–‡ä¼šä»‹ç»
          if (isCss(dep)) {
            return new Promise((resolve, reject) =&gt; {
              link.addEventListener(&#39;load&#39;, resolve)
              link.addEventListener(&#39;error&#39;, reject)
            })
          }
        }
      })
    )
    .then(() =&gt; importModule())
}
</code></pre><p>æˆ‘ä»¬çŸ¥é“ï¼ŒVite å†…ç½®äº† CSS ä»£ç åˆ†å‰²çš„èƒ½åŠ›ï¼Œå½“ä¸€ä¸ªæ¨¡å—é€šè¿‡åŠ¨æ€ import å¼•å…¥çš„æ—¶<br> å€™ï¼Œè¿™ä¸ªæ¨¡å—ä¼šè¢«å•ç‹¬æ‰“åŒ…æˆä¸€ä¸ª chunkï¼Œä¸æ­¤åŒæ—¶è¿™ä¸ªæ¨¡å—ä¸­çš„æ ·å¼ä»£ç ä¹Ÿä¼šæ‰“åŒ…æˆ<br> å•ç‹¬çš„ CSS æ–‡ä»¶ã€‚å¦‚æœå¼‚æ­¥æ¨¡å—çš„ CSS å’Œ JS åŒæ—¶è¿›è¡Œé¢„åŠ è½½ï¼Œé‚£ä¹ˆåœ¨æŸäº›æµè§ˆå™¨ä¸‹<br> (å¦‚ IE)å°±ä¼šå‡ºç° <a href="https://en.wikipedia.org/wiki/Flash_of_unstyled_content#:~:text=A%20flash%20of%20unstyled%20content,before%20all%20information%20is%20retrieved." target="_blank" rel="noreferrer">FOUC é—®é¢˜</a>ï¼Œé¡µé¢æ ·å¼ä¼šé—ªçƒï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚ä½† Vite é€šè¿‡ç›‘å¬ link<br> æ ‡ç­¾ load äº‹ä»¶çš„æ–¹å¼æ¥ä¿è¯ CSS åœ¨ JS ä¹‹å‰åŠ è½½å®Œæˆï¼Œä»è€Œè§£å†³äº† FOUC é—®é¢˜ã€‚ä½ å¯<br> ä»¥æ³¨æ„ä¸‹é¢è¿™æ®µå…³é”®ä»£ç </p><pre><code>if (isCss) {
 return new Promise((res, rej) =&gt; {
	 link.addEventListener(&#39;load&#39;, res)
	 link.addEventListener(&#39;error&#39;, rej)
 })
}
</code></pre><p>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†é¢„åŠ è½½çš„å®ç°æ–¹æ³•ï¼Œé‚£ä¹ˆ Vite æ˜¯å¦‚ä½•å°†åŠ¨æ€ import ç¼–è¯‘æˆé¢„åŠ è½½çš„ä»£ç çš„å‘¢ï¼Ÿä»æºç çš„ transform é’©å­<a href="https://github.com/vitejs/vite/blob/v2.7.0/packages/vite/src/node/plugins/importAnalysisBuild.ts#L111" target="_blank" rel="noreferrer">å®ç°</a>ä¸­ï¼Œä¸éš¾å‘ç° Vite ä¼šå°†åŠ¨æ€ import çš„ä»£ç è¿›è¡Œè½¬æ¢ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤º:</p><pre><code>// è½¬æ¢å‰
import(&#39;a&#39;)
// è½¬æ¢å
__vitePreload(() =&gt; &#39;a&#39;, true ?&quot;__VITE_PRELOAD__&quot;:void)
</code></pre><p>å…¶ä¸­ï¼Œ __vitePreload ä¼šè¢«åŠ è½½ä¸ºå‰æ–‡ä¸­çš„ preload å·¥å…·å‡½æ•°ï¼Œ<br><strong>VITE_IS_MODERN</strong> ä¼šåœ¨ <a href="https://github.com/vitejs/vite/blob/v2.7.0/packages/vite/src/node/plugins/importAnalysisBuild.ts#L208" target="_blank" rel="noreferrer">renderChunk</a> ä¸­è¢«æ›¿æ¢æˆ true æˆ–è€… falseï¼Œè¡¨ç¤ºæ˜¯å¦ä¸º<br> Modern æ¨¡å¼æ‰“åŒ…ï¼Œè€Œå¯¹äº â€œ<strong>VITE_PRELOAD</strong>â€ ï¼ŒVite ä¼šåœ¨ <a href="https://github.com/vitejs/vite/blob/v2.7.0/packages/vite/src/node/plugins/importAnalysisBuild.ts#L208" target="_blank" rel="noreferrer">generateBundle</a> é˜¶æ®µï¼Œ<br> åˆ†æå‡º a æ¨¡å—æ‰€æœ‰ä¾èµ–æ–‡ä»¶(åŒ…æ‹¬ CSS)ï¼Œå°†ä¾èµ–æ–‡ä»¶åçš„æ•°ç»„ä½œä¸º preload å·¥å…·å‡½æ•°çš„<br> ç¬¬äºŒä¸ªå‚æ•°ã€‚</p><p>åŒæ—¶ï¼Œå¯¹äº Vite ç‹¬æœ‰çš„ import.meta.glob è¯­æ³•ï¼Œä¹Ÿä¼šåœ¨è¿™ä¸ªæ’ä»¶ä¸­è¿›è¡Œç¼–è¯‘ï¼Œå¦‚:</p><p><code>const modules = import.meta.glob(&#39;./dir/*.js&#39;)</code></p><p>ä¼šé€šè¿‡æ’ä»¶è½¬æ¢æˆä¸‹é¢è¿™æ®µä»£ç :</p><pre><code>const modules = {
 &#39;./dir/foo.js&#39;: () =&gt; import(&#39;./dir/foo.js&#39;),
 &#39;./dir/bar.js&#39;: () =&gt; import(&#39;./dir/bar.js&#39;)
}
</code></pre><p>å…·ä½“çš„å®ç°åœ¨ <a href="https://github.com/vitejs/vite/blob/075128a8dd0a2680540179dad2277a797f793199/packages/vite/src/node/importGlob.ts#L11" target="_blank" rel="noreferrer">transformImportGlob</a> å‡½æ•°ä¸­ï¼Œé™¤äº†è¢«è¯¥æ’ä»¶ä½¿ç”¨å¤–ï¼Œè¿™ä¸ªå‡½æ•°è¢«è¿˜ä¾èµ–é¢„æ„å»ºã€å¼€å‘ç¯å¢ƒ import åˆ†æç­‰æ ¸å¿ƒæµç¨‹ä½¿ç”¨ï¼Œå±äºä¸€ç±»æ¯”è¾ƒåº•å±‚çš„é€»è¾‘ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç²¾è¯»ä¸€ä¸‹è¿™éƒ¨åˆ†çš„å®ç°æºç ã€‚</p><p>3.9 ) JS å‹ç¼©æ’ä»¶</p><ul><li>Vite ä¸­æä¾›äº†ä¸¤ç§ JS ä»£ç å‹ç¼©çš„å·¥å…·ï¼Œå³ Esbuild å’Œ Terserï¼Œåˆ†åˆ«ç”±ä¸¤ä¸ªæ’ä»¶æ’ä»¶å®<br> ç°: <ul><li>vite:esbuild-transpile (<a href="https://github.com/vitejs/vite/blob/v2.7.0/packages/vite/src/node/plugins/esbuild.ts#L219" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹å®ç°</a>)ã€‚åœ¨ renderChunk é˜¶æ®µï¼Œè°ƒç”¨ Esbuild çš„<br> transform APIï¼Œå¹¶æŒ‡å®š minify å‚æ•°ï¼Œä»è€Œå®ç° JS çš„å‹ç¼©ã€‚</li><li>vite:terser(<a href="https://github.com/vitejs/vite/blob/v2.7.0/packages/vite/src/node/plugins/terser.ts#L23" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹å®ç°</a>)ã€‚åŒæ ·ä¹Ÿåœ¨ renderChunk é˜¶æ®µï¼ŒVite ä¼šå•ç‹¬çš„ Worker<br> è¿›ç¨‹ä¸­è°ƒç”¨ Terser è¿›è¡Œ JS ä»£ç å‹ç¼©ã€‚</li></ul></li></ul><p>3.10 ) æ„å»ºæŠ¥å‘Šæ’ä»¶</p><p>ä¸»è¦ç”±ä¸‰ä¸ªæ’ä»¶è¾“å‡ºæ„å»ºæŠ¥å‘Š:</p><ul><li><p>vite:manifest(<a href="https://github.com/vitejs/vite/blob/v2.7.0/packages/vite/src/node/plugins/manifest.ts" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹å®ç°</a>)ã€‚æä¾›æ‰“åŒ…åçš„å„ç§èµ„æºæ–‡ä»¶åŠå…¶å…³è”ä¿¡æ¯ï¼Œå¦‚ä¸‹å†…å®¹æ‰€ç¤º:</p><pre><code>// manifest.json
{
  &quot;index.html&quot;: {
    &quot;file&quot;: &quot;assets/index.8edffa56.js&quot;,
    &quot;src&quot;: &quot;index.html&quot;,
    &quot;isEntry&quot;: true,
    &quot;imports&quot;: [
      // JS å¼•ç”¨
      &quot;_vendor.71e8fac3.js&quot;
    ],
    &quot;css&quot;: [
      // æ ·å¼æ–‡ä»¶åº”ç”¨
      &quot;assets/index.458f9883.css&quot;
    ],
    &quot;assets&quot;: [
      // é™æ€èµ„æºå¼•ç”¨
      &quot;assets/img.9f0de7da.png&quot;
    ]
  },
  &quot;_vendor.71e8fac3.js&quot;: {
    &quot;file&quot;: &quot;assets/vendor.71e8fac3.js&quot;
  }
}
</code></pre></li><li><p>vite:ssr-manifest(<a href="https://github.com/vitejs/vite/blob/v2.7.0/packages/vite/src/node/plugins/manifest.ts" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹å®ç°</a>)ã€‚æä¾›æ¯ä¸ªæ¨¡å—ä¸ chunk ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œæ–¹ä¾¿SSR æ—¶æœŸé€šè¿‡æ¸²æŸ“çš„ç»„ä»¶æ¥ç¡®å®šå“ªäº› chunk ä¼šè¢«ä½¿ç”¨ï¼Œä»è€ŒæŒ‰éœ€è¿›è¡Œé¢„åŠ è½½ã€‚æœ€åæ’ä»¶è¾“å‡ºçš„å†…å®¹å¦‚ä¸‹:</p><pre><code>// ssr-manifest.json
{
 &quot;node_modules/object-assign/index.js&quot;: [
 &quot;/assets/vendor.71e8fac3.js&quot;
 ],
 &quot;node_modules/object-assign/index.js?commonjs-proxy&quot;: [
 &quot;/assets/vendor.71e8fac3.js&quot;
 ],
 // çœç•¥å…¶å®ƒæ¨¡å—ä¿¡æ¯
}
</code></pre></li><li><p>vite:reporter(<a href="https://github.com/vitejs/vite/blob/v2.7.0/packages/vite/src/node/plugins/reporter.ts" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹å®ç°</a>)ã€‚ä¸»è¦æä¾›æ‰“åŒ…æ—¶çš„å‘½ä»¤è¡Œæ„å»ºæ—¥å¿—:</p></li></ul><p><img src="/front-knowledge/assets/d371dbf1fb819971ed620f2230f467e8.CBJGPCx1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>4 ï¼‰å¼€å‘ç¯å¢ƒç‰¹æœ‰æ’ä»¶</p><p>4.1 ï¼‰å®¢æˆ·ç«¯ç¯å¢ƒå˜é‡æ³¨å…¥æ’ä»¶</p><p>åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼ŒVite ä¼šè‡ªåŠ¨å¾€ HTML ä¸­æ³¨å…¥ä¸€æ®µ client çš„è„šæœ¬(<a href="https://github.com/vitejs/vite/blob/v2.7.0/packages/vite/src/node/server/middlewares/indexHtml.ts#L159" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹å®ç°</a>)</p><pre><code>&lt;script type=&quot;module&quot; src=&quot;/@vite/client&quot;&gt;&lt;/script&gt;
</code></pre><p>è¿™æ®µè„šæœ¬ä¸»è¦æä¾› æ³¨å…¥ç¯å¢ƒå˜é‡ ã€ å¤„ç† HMR æ›´æ–°é€»è¾‘ ã€ æ„å»ºå‡ºç°é”™è¯¯æ—¶æä¾›æŠ¥é”™ç•Œé¢ ç­‰åŠŸèƒ½ï¼Œè€Œæˆ‘ä»¬è¿™é‡Œè¦ä»‹ç»çš„ vite:client-inject å°±æ˜¯æ¥å®Œæˆæ—¶ç¯å¢ƒå˜é‡çš„æ³¨å…¥ï¼Œå°† client è„šæœ¬ä¸­çš„ <strong>MODE</strong> ã€ <strong>BASE</strong> ã€ <strong>DEFINE</strong> ç­‰ç­‰å­—ç¬¦ä¸²æ›¿æ¢ä¸ºè¿è¡Œæ—¶çš„å˜é‡ï¼Œå®ç°ç¯å¢ƒå˜é‡ä»¥åŠ HMR ç›¸å…³ä¸Šä¸‹æ–‡ä¿¡æ¯çš„æ³¨å…¥ï¼Œ<a href="https://github.com/vitejs/vite/blob/v2.7.0/packages/vite/src/node/plugins/clientInjections.ts" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹æ’ä»¶å®ç°</a>ã€‚</p><p>4.2 ï¼‰å¼€å‘é˜¶æ®µ import åˆ†ææ’ä»¶</p><p>æœ€åï¼ŒVite ä¼šåœ¨å¼€å‘é˜¶æ®µåŠ å…¥ import åˆ†ææ’ä»¶ï¼Œå³ vite:import-analysis ã€‚ä¸ä¹‹å‰æ‰€ä»‹ç»çš„ vite:build-import-analysis ç›¸å¯¹åº”ï¼Œä¸»è¦å¤„ç† import è¯­å¥ç›¸å…³çš„è§£æå’Œé‡å†™ï¼Œä½† vite:import-analysis æ’ä»¶çš„å…³æ³¨ç‚¹ä¼šä¸å¤ªä¸€æ ·ï¼Œä¸»è¦å›´ç»• Vite å¼€å‘é˜¶æ®µçš„å„é¡¹ç‰¹æ€§æ¥å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥æ¥æ¢³ç†ä¸€ä¸‹è¿™ä¸ªæ’ä»¶éœ€è¦åšå“ªäº›äº‹æƒ…:</p><p>å¯¹ bare importï¼Œå°†è·¯å¾„åè½¬æ¢ä¸ºçœŸå®çš„æ–‡ä»¶è·¯å¾„ï¼Œå¦‚:</p><pre><code>// è½¬æ¢å‰
import &#39;foo&#39;
// è½¬æ¢å
// tip: å¦‚æœæ˜¯é¢„æ„å»ºçš„ä¾èµ–ï¼Œåˆ™ä¼šè½¬æ¢ä¸ºé¢„æ„å»ºäº§ç‰©çš„è·¯å¾„
import &#39;/@fs/project/node_modules/foo/dist/foo.js&#39;
</code></pre><p>ä¸»è¦è°ƒç”¨ PluginContainer çš„ä¸Šä¸‹æ–‡å¯¹è±¡æ–¹æ³•å³ this.resolve å®ç°ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè°ƒç”¨æ‰€æœ‰æ’ä»¶çš„ resolveId æ–¹æ³•ï¼ŒåŒ…æ‹¬ä¹‹å‰ä»‹ç»çš„ vite:pre-alias å’Œ vite:resolve ï¼Œå®Œæˆè·¯å¾„è§£æçš„æ ¸å¿ƒé€»è¾‘</p><ul><li><p>å¯¹äº HMR çš„å®¢æˆ·ç«¯ APIï¼Œå³ import.meta.hot ï¼ŒVite åœ¨è¯†åˆ«åˆ°è¿™æ ·çš„ import è¯­å¥åï¼Œä¸€æ–¹é¢ä¼šæ³¨å…¥ import.meta.hot çš„å®ç°ï¼Œå› ä¸ºæµè§ˆå™¨åŸç”Ÿå¹¶ä¸å…·å¤‡è¿™æ ·çš„APIï¼Œ<a href="https://github.com/vitejs/vite/blob/v2.7.0/packages/vite/src/node/plugins/importAnalysis.ts#L502" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹æ³¨å…¥ä»£ç </a>ï¼›å¦ä¸€æ–¹é¢ä¼šè¯†åˆ« accept æ–¹æ³•ï¼Œå¹¶åˆ¤æ–­ accept æ˜¯å¦ä¸º æ¥å—è‡ªèº«æ›´æ–° çš„ç±»å‹, å¦‚æœæ˜¯ï¼Œåˆ™æ ‡è®°ä¸ºä¸Š isSelfAccepting çš„ flagï¼Œä¾¿äº HMR åœ¨æœåŠ¡ç«¯è¿›è¡Œæ›´æ–°æ—¶è¿›è¡Œ HMR Boundary çš„æŸ¥æ‰¾ã€‚å¯¹äºå…·ä½“çš„æŸ¥æ‰¾è¿‡ç¨‹ï¼Œæš‚æ—¶ä¸åšèµ˜è¿°</p></li><li><p>å¯¹äºå…¨å±€ç¯å¢ƒå˜é‡è¯»å–è¯­å¥ï¼Œå³ import.meta.env ï¼ŒVite ä¼šæ³¨å…¥ import.meta.env çš„å®ç°ï¼Œä¹Ÿå°±æ˜¯å¦‚ä¸‹çš„ env å­—ç¬¦ä¸²:</p><pre><code>// config å³è§£æå®Œçš„é…ç½®
let env = `import.meta.env = ${JSON.stringify({
 ...config.env,
 SSR: !!ssr
})};`
// å¯¹ç”¨æˆ·é…ç½®çš„ define å¯¹è±¡ä¸­ï¼Œå°†å¸¦æœ‰ import.meta.env å‰ç¼€çš„å…¨å±€å˜é‡æŒ‚åˆ° import.meta.env å¯¹è±¡ä¸Š
for (const key in config.define) {
  if (key.startsWith(`import.meta.env.`)) {
    const val = config.define[key]
    env += `${key} = ${
 typeof val === &#39;string&#39; ? val : JSON.stringify(val)
 };`
  }
}
</code></pre></li><li><p>å¯¹äº import.meta.glob è¯­æ³•ï¼ŒVite åŒæ ·ä¼šè°ƒç”¨ä¹‹å‰æåˆ°çš„ transformImportGlob å‡½<br> æ•°æ¥è¿›è¡Œè¯­æ³•è½¬æ¢ï¼Œä½†ä¸ç”Ÿäº§ç¯å¢ƒçš„å¤„ç†ä¸åŒï¼Œåœ¨è½¬æ¢ä¹‹åï¼ŒVite ä¼šå°†è¯¥æ¨¡å—é€šè¿‡<br> glob å¯¼å…¥çš„ä¾èµ–æ¨¡å—è®°å½•åœ¨ server å®ä¾‹ä¸Šï¼Œä»¥ä¾¿äº HMR æ›´æ–°çš„æ—¶å€™èƒ½å¾—åˆ°æ›´å‡†<br> ç¡®çš„æ¨¡å—ä¾èµ–ä¿¡æ¯ï¼Œ<a href="https://github.com/vitejs/vite/blob/v2.7.0/packages/vite/src/node/plugins/importAnalysis.ts#L324" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹å®ç°</a>ã€‚</p></li></ul><h4 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;æ€»ç»“&quot;">â€‹</a></h4><ul><li>Vite çš„æ’ä»¶æœºåˆ¶å®ç°ä»¥åŠå„ä¸ªç¼–è¯‘æ’ä»¶çš„ä½œç”¨å’Œå®ç°ï¼Œä¿¡æ¯å¯†åº¦æ¯”è¾ƒå¤§ï¼Œéœ€è¦ä½ å¯¹ç…§ç€å®˜æ–¹çš„ä»£ç å¥½å¥½æ¢³ç†ä¸€éã€‚å…¶ä¸­ï¼Œä½ éœ€è¦é‡ç‚¹æŒæ¡PluginContainerçš„å®ç°æœºåˆ¶å’Œ Vite å†…ç½®æ’ä»¶å„è‡ªçš„ä½œç”¨ã€‚é¦–å…ˆï¼ŒPluginContainer ä¸»è¦ç”±ä¸¤éƒ¨åˆ†å®ç°ï¼ŒåŒ…æ‹¬ Rollup æ’ä»¶é’©å­çš„è°ƒåº¦å’Œæ’ä»¶é’©å­å†…éƒ¨çš„ Context ä¸Šä¸‹æ–‡å¯¹è±¡å®ç°ï¼Œæ€»ä½“ä¸Šæ¨¡æ‹Ÿäº† Rollup çš„æ’ä»¶æœºåˆ¶ã€‚</li><li>å…¶æ¬¡ï¼ŒVite å†…ç½®çš„æ’ä»¶åŒ…æ‹¬å››å¤§ç±»: åˆ«åæ’ä»¶ã€æ ¸å¿ƒæ„å»ºæ’ä»¶ã€ç”Ÿäº§ç¯å¢ƒç‰¹æœ‰æ’ä»¶å’Œå¼€å‘ç¯å¢ƒç‰¹æœ‰æ’ä»¶ã€‚è¿™äº›æ’ä»¶åŒ…å«äº† Vite æ ¸å¿ƒçš„ç¼–è¯‘é€»è¾‘ï¼Œå¯ä»¥è¯´æ˜¯ Vite ä½œä¸ºæ„å»ºå·¥å…·çš„å‘½è„‰æ‰€åœ¨ï¼Œå¸Œæœ›ä½ èƒ½å¯¹ç…§æœ¬å°èŠ‚çš„å†…å®¹åŠå…¶å¯¹åº”çš„æºç é“¾æ¥ï¼Œäº†è§£å„ä¸ªæ’ä»¶çš„ä½œç”¨ã€‚</li><li>æ­¤å¤–ï¼Œåœ¨å­¦ä¹ è¿™äº›æ’ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åˆ‡å¿Œæ‰åˆ°ä¼—å¤šç¹ççš„å®ç°ç»†èŠ‚ä¸­ï¼Œè¦å°½å¯èƒ½æŠ“å…³é”®çš„å®ç°æ€è·¯ï¼Œæ¥é«˜æ•ˆç†è§£æ’ä»¶èƒŒåçš„åŸç†ï¼Œè¿™æ ·å­¦ä¹ æ•ˆç‡ä¼šæ›´é«˜ã€‚è¿›ä¸€æ­¥æ¥è®²ï¼Œåœ¨ä½ ç†è§£äº†å„ä¸ªæ’ä»¶çš„å®ç°åŸç†ä¹‹åï¼Œå¦‚æœé‡åˆ°æŸäº›åœºæ™¯ä¸‹éœ€è¦è°ƒè¯•æŸäº›æ’ä»¶çš„ä»£ç ï¼Œå¯ä»¥åšåˆ°æœ‰çš„æ”¾çŸ¢ã€‚</li></ul><p>å‚è€ƒï¼š</p><p><a href="https://cloud.tencent.com/developer/article/2050504" target="_blank" rel="noreferrer">https://cloud.tencent.com/developer/article/2050504</a></p><p><a href="https://blog.csdn.net/Tyro_java/article/details/140085883" target="_blank" rel="noreferrer">https://blog.csdn.net/Tyro_java/article/details/140085883</a></p><p><a href="https://juejin.cn/post/7350936959059722280" target="_blank" rel="noreferrer">https://juejin.cn/post/7350936959059722280</a></p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--[--><!--[--><!--[--><div class="vp-doc" style="margin-bottom:64px;"><h2 id="å†™åœ¨æœ€å" tabindex="-1"> å†™åœ¨æœ€å <a class="header-anchor" href="#å†™åœ¨æœ€å" aria-label="Permalink to &quot;å†™åœ¨æœ€å&quot;">â€‹</a></h2> ç å­—ä¸æ˜“ï¼Œè¿˜è¯·å¤§å®¶ç‚¹å‡»å³ä¸Šè§’ä¸ºé¡¹ç›®å¤šå¤šstarï¼Œå¦‚æœè§‰å¾—æ–‡ç« è´¨é‡ä¸é”™çš„è¯ï¼Œå¯ä»¥è¯·ä½œè€…å–æ¯å’–å•¡ï¼Œæ‰€æœ‰æèµ äººå‘˜éƒ½ä¼šæ”¾å…¥è‡´è°¢ä¸­ã€‚éå¸¸æ„Ÿè°¢ï½ <div class="donate"><!--[--><span role="img" aria-label="wechat" style="font-size:36px;color:#64b687;" class="anticon anticon-wechat" tabindex="-1"><svg focusable="false" style="" data-icon="wechat" width="1em" height="1em" fill="currentColor" aria-hidden="true" viewBox="64 64 896 896"><path d="M690.1 377.4c5.9 0 11.8.2 17.6.5-24.4-128.7-158.3-227.1-319.9-227.1C209 150.8 64 271.4 64 420.2c0 81.1 43.6 154.2 111.9 203.6a21.5 21.5 0 019.1 17.6c0 2.4-.5 4.6-1.1 6.9-5.5 20.3-14.2 52.8-14.6 54.3-.7 2.6-1.7 5.2-1.7 7.9 0 5.9 4.8 10.8 10.8 10.8 2.3 0 4.2-.9 6.2-2l70.9-40.9c5.3-3.1 11-5 17.2-5 3.2 0 6.4.5 9.5 1.4 33.1 9.5 68.8 14.8 105.7 14.8 6 0 11.9-.1 17.8-.4-7.1-21-10.9-43.1-10.9-66 0-135.8 132.2-245.8 295.3-245.8zm-194.3-86.5c23.8 0 43.2 19.3 43.2 43.1s-19.3 43.1-43.2 43.1c-23.8 0-43.2-19.3-43.2-43.1s19.4-43.1 43.2-43.1zm-215.9 86.2c-23.8 0-43.2-19.3-43.2-43.1s19.3-43.1 43.2-43.1 43.2 19.3 43.2 43.1-19.4 43.1-43.2 43.1zm586.8 415.6c56.9-41.2 93.2-102 93.2-169.7 0-124-120.8-224.5-269.9-224.5-149 0-269.9 100.5-269.9 224.5S540.9 847.5 690 847.5c30.8 0 60.6-4.4 88.1-12.3 2.6-.8 5.2-1.2 7.9-1.2 5.2 0 9.9 1.6 14.3 4.1l59.1 34c1.7 1 3.3 1.7 5.2 1.7a9 9 0 006.4-2.6 9 9 0 002.6-6.4c0-2.2-.9-4.4-1.4-6.6-.3-1.2-7.6-28.3-12.2-45.3-.5-1.9-.9-3.8-.9-5.7.1-5.9 3.1-11.2 7.6-14.5zM600.2 587.2c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9c0 19.8-16.2 35.9-36 35.9zm179.9 0c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9a36.08 36.08 0 01-36 35.9z"></path></svg><!----></span><!----><!--]--><!--[--><span role="img" aria-label="alipay-circle" style="font-size:36px;color:#08c;" class="anticon anticon-alipay-circle" tabindex="-1"><svg focusable="false" style="" data-icon="alipay-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true" fill-rule="evenodd" viewBox="64 64 896 896"><path d="M512 64c247.42 0 448 200.58 448 448S759.42 960 512 960 64 759.42 64 512 264.58 64 512 64m32.5 168c-69.67 0-86.06 16.84-86.72 39.08l-.02 1.43v46.62H291.45c-9.92 0-14.28 23.05-14.27 39.3 0 2.7 2.08 4.93 4.77 4.93h175.81v58.3h-116.5c-9.96 0-14.3 23.76-14.27 39.47a4.77 4.77 0 004.77 4.76h233.45c-4.53 41.06-15.43 77.59-30.72 109.32l-1.22 2.5-.32-.28c-60.24-28.47-120.43-52.57-194.4-52.57l-2.62.01c-84.98 1.11-144.71 56.5-145.91 127.04l-.02 1.22.02 2.13c1.24 70.4 63.56 126.45 148.52 126.45 61.25 0 116.38-16.85 163.46-45.02a138.58 138.58 0 0014.07-7.96 345.6 345.6 0 0050.3-41.16l9.45 6.35 12.46 8.32c57.53 38.26 113.76 72.62 169.86 79.27a142.62 142.62 0 0018.31 1.16c43.02 0 55-52.68 57.39-95.51l.14-2.84c.4-8.46-6.2-15.6-14.65-15.86-75.46-2.37-136.45-22.05-192-46.11l-6.27-2.75c35.15-56.8 56.66-121.81 57.15-186.66l.09-1.08c.4-5.51-4-10.2-9.52-10.2H549.33v-58.3h165.73c9.92 0 14.28-22.12 14.27-39.31a4.85 4.85 0 00-4.78-4.92H549.32v-82.35a4.8 4.8 0 00-4.83-4.78M328 583.85c54.63 0 107.08 22.41 158.1 52.19l5.76 3.4c-103.57 119.84-247.17 95.9-261.72 26.37a66.89 66.89 0 01-1.14-9.83l-.06-2.34.02-.9c.97-40.12 45.33-68.9 99.04-68.9"></path></svg><!----></span><!----><!--]--></div> ä¹Ÿå¯å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œä¼šæŒç»­åˆ†äº«å­¦ä¹ å’Œç”Ÿæ´»çš„æ„Ÿæ‚Ÿ~ <div class="mp"><div><!--[--><div class="ant-image css-1p3hq3p" style="height:150px;"><img height="150" class="ant-image-img" style="height:150px;" src="/front-knowledge/images/mp.png"><!----><div class="ant-image-mask"><!--[--><div class="ant-image-mask-info"><span role="img" aria-label="eye" class="anticon anticon-eye"><svg focusable="false" style="" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true" viewBox="64 64 896 896"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg><!----></span>Preview</div><!--]--></div></div><!----><!--]--></div></div></div><!--]--><!--]--><!--]--><!--]--><div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/xzy0625/front-knowledge/tree/master/docs/blogs/project/vite/å¼€å‘ç¯å¢ƒå¦‚ä½•å’Œç”Ÿäº§ç¯å¢ƒä¿æŒä¸€è‡´.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>æœ€è¿‘æ›´æ–°æ—¶é—´: <time datetime="2025-02-07T12:30:18.000Z" data-v-e98dd255></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/front-knowledge/blogs/project/vite/HMR.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>ä¸Šä¸€ç¯‡</span><span class="title" data-v-e257564d>HMR</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/front-knowledge/blogs/project/vite/%E5%92%8C%E5%85%B6%E4%BB%96%E6%A1%86%E6%9E%B6%E4%B8%80%E8%B5%B7%E4%BB%8B%E7%BB%8D.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>ä¸‹ä¸€ç¯‡</span><span class="title" data-v-e257564d>å’Œå…¶ä»–æ¡†æ¶ä¸€èµ·ä»‹ç»</span><!--]--></a></div></nav></footer><!--[--><!--[--><!--[--><div class="comments"><!----></div><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright Â© 2023-present front-knowledge</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"blogs_algorithm_ä»£ç ç‰‡æ®µ.md\":\"DQ07Ch0u\",\"blogs_algorithm_æŠ€å·§.md\":\"DDzjgh3D\",\"blogs_algorithm_æ ‘.md\":\"C-m8cFXo\",\"blogs_algorithm_ç®—æ³•æ¡†æ¶.md\":\"BePAE37p\",\"blogs_algorithm_ç»å…¸é¢˜ç›®.md\":\"CWHZ6wgl\",\"blogs_algorithm_é“¾è¡¨.md\":\"DTzprEQm\",\"blogs_browser_event-loop.md\":\"Bt25lels\",\"blogs_browser_eventloop_domæ›´æ–°æ¸²æŸ“æ—¶æœº.md\":\"D1E3fb6K\",\"blogs_browser_eventloop_performanceä½¿ç”¨.md\":\"CEWevY1G\",\"blogs_browser_eventloop_ä¸€æ®µå¥‡æ€ªçš„ä»£ç .md\":\"D0FjRYsy\",\"blogs_browser_second.md\":\"4sMl3Gly\",\"blogs_browser_v8_v8å†…å­˜ç®¡ç†.md\":\"DGjMIdun\",\"blogs_browser_v8_v8å¼•æ“æ¦‚è§ˆ.md\":\"J-9dpcB6\",\"blogs_browser_v8_å‚è€ƒèµ„æ–™.md\":\"Dlux6hWm\",\"blogs_browser_v8_æµè§ˆå™¨å†…æ ¸å’Œjså¼•æ“çš„å…³ç³».md\":\"OTy-dz_t\",\"blogs_browser_webå®‰å…¨_xsså’Œcsrf.md\":\"B9SNJpzg\",\"blogs_browser_webå®‰å…¨_ä¸Šä¼ æ¥å£æ”»å‡».md\":\"ClBcxTK-\",\"blogs_browser_webå®‰å…¨_çˆ¬è™«æ”»å‡».md\":\"C5WgkMRX\",\"blogs_browser_å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜.md\":\"Ckv5fsxc\",\"blogs_browser_æ‚è®°.md\":\"Cts6ALAk\",\"blogs_browser_æµè§ˆå™¨ä¸­çš„çº¿ç¨‹å’Œè¿›ç¨‹.md\":\"BDWGQBID\",\"blogs_browser_æµè§ˆå™¨æ¸²æŸ“åŸç†å’Œæ€§èƒ½ä¼˜åŒ–.md\":\"G5fmv6xF\",\"blogs_browser_æµè§ˆå™¨éšæ„è®°å½•.md\":\"DRvfYxeu\",\"blogs_codepart_javascript.md\":\"BdZkWq_P\",\"blogs_css_z-indexä¸ç”Ÿæ•ˆ.md\":\"eTcWKVtx\",\"blogs_jsvascript_promise_promisea_è§„èŒƒ.md\":\"Bg6iujWj\",\"blogs_jsvascript_promise_promiseçš„ä¸€äº›åº”ç”¨.md\":\"Bf1WFIGc\",\"blogs_jsvascript_promise_ç›¸å…³æ–‡ç« .md\":\"WPdkoeGj\",\"blogs_jsvascript_promise_è‡ªå·±å®ç°promise.md\":\"BVqs168q\",\"blogs_jsvascript_thisæŒ‡å‘è§„åˆ™.md\":\"S9772Paa\",\"blogs_jsvascript_ä¸€äº›ç‰¹æ€§_ä¸€äº›ä»£ç å®ç°.md\":\"C58u9tYc\",\"blogs_jsvascript_ä»£ç æ¼æ´.md\":\"CXqrmyk-\",\"blogs_jsvascript_æ²™ç®±.md\":\"CDrrHrfV\",\"blogs_jsvascript_é¢˜ç›®ç§¯ç´¯_æ‰‹å†™.md\":\"9jF-bTiN\",\"blogs_learn_æ¨èç½‘ç«™.md\":\"BgC-Qv-H\",\"blogs_learn_é¢è¯•ç½‘ç«™.md\":\"DhYU9rZV\",\"blogs_mobile_ç§»åŠ¨ç«¯é€‚é….md\":\"Du-5Lc2k\",\"blogs_node_bffå¹³å°æ­å»º_æ•°æ®åº“.md\":\"BKf7piqU\",\"blogs_node_bffå¹³å°æ­å»º_æ¦‚è§ˆ.md\":\"CpeQUNnJ\",\"blogs_node_koa_ä»‹ç»å’ŒåŸç†.md\":\"C-yT3rJ1\",\"blogs_node_koa_è‡ªå®šä¹‰ä¸­é—´ä»¶.md\":\"BWswEw1K\",\"blogs_node_nodeå®ç°è·¯å¾„åˆ«å.md\":\"BfoGAUYF\",\"blogs_others_bffå’Œrpc.md\":\"B0eyMaH4\",\"blogs_others_jsapiå’Œç¦»çº¿åŒ….md\":\"DbvxjzUC\",\"blogs_others_tinyproxyæ­å»ºç§äººä»£ç†æœåŠ¡å™¨.md\":\"8JsPDwrT\",\"blogs_others_å¼€å‘é—®é¢˜æ±‡æ€».md\":\"zKIlbK9T\",\"blogs_performance_first.md\":\"Dr7pG9FV\",\"blogs_performance_index.md\":\"Cq-0SG5L\",\"blogs_performance_æ€§èƒ½ä¼˜åŒ–ä½“ç³».md\":\"CyxPOlsp\",\"blogs_performance_é•¿ä»»åŠ¡å¤„ç†.md\":\"gvOX50DY\",\"blogs_project_babel_plugin.md\":\"CWCTGwN-\",\"blogs_project_summary_ä¸€äº›é¡¹ç›®æ€»ç»“.md\":\"BoEJAHNo\",\"blogs_project_vite_hmr.md\":\"Do1owYhw\",\"blogs_project_vite_viteä¼˜åŠ¿.md\":\"BcaUCgdO\",\"blogs_project_vite_ä¸€äº›æ€»ç»“.md\":\"DqmfCk5o\",\"blogs_project_vite_ä¾èµ–é¢„æ„å»º.md\":\"Y_etMqLZ\",\"blogs_project_vite_å‚è€ƒæ–‡ç« .md\":\"QysLHdNK\",\"blogs_project_vite_å’Œå…¶ä»–æ¡†æ¶ä¸€èµ·ä»‹ç».md\":\"DPJUamtS\",\"blogs_project_vite_å¦‚ä½•è°ƒè¯•æºç .md\":\"B6az5qqZ\",\"blogs_project_vite_å¸¸è§çš„ä¸€äº›é—®é¢˜.md\":\"Ba607Cuy\",\"blogs_project_vite_å¼€å‘ç¯å¢ƒå¦‚ä½•å’Œç”Ÿäº§ç¯å¢ƒä¿æŒä¸€è‡´.md\":\"CkJJ9Lw9\",\"blogs_project_ä¸€äº›é¡¹ç›®æ€»ç»“.md\":\"BjxfIvB8\",\"blogs_project_ä¸ºä»€ä¹ˆç”¨rollupè¿›è¡Œæ‰“åŒ….md\":\"DObX2Te0\",\"blogs_project_äº’é€‰ä¸€äº›å†…å®¹.md\":\"Dh6Ahkoe\",\"blogs_project_å‰ç«¯æµ‹è¯•.md\":\"BqRLf1nF\",\"blogs_project_å‰ç«¯ç›‘æ§.md\":\"DcS5ySvG\",\"blogs_project_æŠ•æ”¾ç«¯æ€»ç»“.md\":\"DPbvhynw\",\"blogs_project_æ¨¡å—_æ‰“åŒ…å·¥å…·çš„æ ¸å¿ƒæµç¨‹.md\":\"DKV99uVK\",\"blogs_project_æ¨¡å—_æ¨¡å—å‘å±•å².md\":\"C261Ohsx\",\"blogs_redux_react-reduxæºç å®ç°.md\":\"BC6XJIcM\",\"blogs_redux_reduxä½¿ç”¨ä¼˜åŒ–.md\":\"Ypgywr60\",\"blogs_redux_reduxåŸç†.md\":\"Cc2gH40s\",\"blogs_redux_reduxå®ç°watch.md\":\"zgEw8EAI\",\"blogs_redux_reduxæ€æƒ³.md\":\"DXgDyAV0\",\"blogs_redux_reduxæºç å®ç°.md\":\"DuqJe5bF\",\"blogs_structure_åˆ›æ„é…ç½®ç³»ç»Ÿè®¾è®¡.md\":\"Da4WSgxN\",\"blogs_structure_å‰ç«¯å¼€å‘ä¸­çš„ä¸€äº›æ€è€ƒ.md\":\"BOWaKXE1\",\"blogs_structure_å‰ç«¯éƒ¨ç½².md\":\"CUc0_cmF\",\"blogs_structure_å¦‚ä½•å¤„ç†å‰ç«¯å¤æ‚çš„ä¸šåŠ¡ä»£ç .md\":\"DT9xs8x_\",\"blogs_structure_æ’ä»¶å¼å¼€å‘.md\":\"DIxSgNrT\",\"blogs_structure_ç†è§£ä¸šåŠ¡ç³»ç»Ÿçš„å¤æ‚æ€§.md\":\"CWMShUod\",\"blogs_structure_ç›‘æ§ç³»ç»Ÿæ’ä»¶å¼å¼€å‘å®æˆ˜.md\":\"WcPRbu_F\",\"blogs_thinking_ä¸ªäººæˆé•¿.md\":\"TYSareOq\",\"blogs_thinking_ä¸­é—´ä»¶.md\":\"2D_zlFRN\",\"blogs_thinking_å‡½æ•°ç¼–ç¨‹èŒƒå¼.md\":\"Dh3-qHLg\",\"index.md\":\"MTzMEeTJ\",\"others_changelog.md\":\"CY8otOPI\",\"others_contribution.md\":\"7WFRDJID\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"front-knowledge\",\"description\":\"å‰ç«¯çŸ¥è¯†ç‚¹æ•´ç†\",\"base\":\"/front-knowledge/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/images/logo.png\",\"algolia\":{\"appId\":\"VGUDH04JX5\",\"apiKey\":\"621b2f764166bf14e9c112d01e05f8e0\",\"indexName\":\"front-knowledge\",\"placeholder\":\"è¯·è¾“å…¥å…³é”®è¯\",\"buttonText\":\"æœç´¢\",\"searchParameters\":{}},\"nav\":[{\"text\":\"ğŸŒŠreact18æºç è§£æ\",\"link\":\"https://xzy0625.github.io/react-docs/\"},{\"text\":\"ğŸŒ›vue3æºç è§£æ\",\"link\":\"https://xzy0625.github.io/vue-docs/\"},{\"text\":\"ğŸŒå‰ç«¯çŸ¥è¯†æ—¥ç§¯æœˆç´¯\",\"link\":\"https://xzy0625.github.io/js-interview/\"},{\"text\":\"ğŸ”¥å‰ç«¯ç®—æ³•(ç¼–å†™ä¸­)\",\"link\":\"/blogs/start/start\"},{\"text\":\"ğŸ’­ä¸ªäººä¸»é¡µ\",\"link\":\"http://zyxiong.com/\"},{\"text\":\"å…¶ä»–\",\"items\":[{\"text\":\"Changelog\",\"link\":\"/others/changelog\"},{\"text\":\"Contribution\",\"link\":\"/others/contribution\"}]}],\"sidebar\":[{\"originText\":\"jsvascript\",\"text\":\"jsvascript\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"originText\":\"promise\",\"text\":\"promise\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"promiseA+è§„èŒƒ\",\"link\":\"/blogs/jsvascript/promise/promiseA+è§„èŒƒ\"},{\"text\":\"ç›¸å…³æ–‡ç« \",\"link\":\"/blogs/jsvascript/promise/ç›¸å…³æ–‡ç« \"},{\"text\":\"è‡ªå·±å®ç°promise\",\"link\":\"/blogs/jsvascript/promise/è‡ªå·±å®ç°promise\"},{\"text\":\"promiseçš„ä¸€äº›åº”ç”¨\",\"link\":\"/blogs/jsvascript/promise/promiseçš„ä¸€äº›åº”ç”¨\"}]},{\"originText\":\"é¢˜ç›®ç§¯ç´¯\",\"text\":\"é¢˜ç›®ç§¯ç´¯\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"æ‰‹å†™\",\"link\":\"/blogs/jsvascript/é¢˜ç›®ç§¯ç´¯/æ‰‹å†™\"}]},{\"originText\":\"ä¸€äº›ç‰¹æ€§\",\"text\":\"ä¸€äº›ç‰¹æ€§\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"ä¸€äº›ä»£ç å®ç°\",\"link\":\"/blogs/jsvascript/ä¸€äº›ç‰¹æ€§/ä¸€äº›ä»£ç å®ç°\"}]},{\"text\":\"thisæŒ‡å‘è§„åˆ™\",\"link\":\"/blogs/jsvascript/thisæŒ‡å‘è§„åˆ™\"},{\"text\":\"ä»£ç æ¼æ´\",\"link\":\"/blogs/jsvascript/ä»£ç æ¼æ´\"},{\"text\":\"æ²™ç®±\",\"link\":\"/blogs/jsvascript/æ²™ç®±\"}]},{\"originText\":\"browser\",\"text\":\"æµè§ˆå™¨\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"originText\":\"browser\",\"text\":\"V8å¼•æ“\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"æµè§ˆå™¨å†…æ ¸å’ŒJSå¼•æ“çš„å…³ç³»\",\"link\":\"/blogs/browser/V8/æµè§ˆå™¨å†…æ ¸å’ŒJSå¼•æ“çš„å…³ç³»\"},{\"text\":\"v8å¼•æ“æ¦‚è§ˆ\",\"link\":\"/blogs/browser/V8/V8å¼•æ“æ¦‚è§ˆ\"},{\"text\":\"V8å†…å­˜ç®¡ç†\",\"link\":\"/blogs/browser/V8/V8å†…å­˜ç®¡ç†\"}]},{\"originText\":\"browser\",\"text\":\"äº‹ä»¶å¾ªç¯\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"performanceä½¿ç”¨\",\"link\":\"/blogs/browser/eventLoop/performanceä½¿ç”¨\"},{\"text\":\"domæ›´æ–°æ¸²æŸ“æ—¶æœº\",\"link\":\"/blogs/browser/eventLoop/domæ›´æ–°æ¸²æŸ“æ—¶æœº\"},{\"text\":\"ä¸€æ®µå¥‡æ€ªçš„ä»£ç \",\"link\":\"/blogs/browser/eventLoop/ä¸€æ®µå¥‡æ€ªçš„ä»£ç \"}]},{\"originText\":\"webå®‰å…¨\",\"text\":\"webå®‰å…¨\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"çˆ¬è™«æ”»å‡»\",\"link\":\"/blogs/browser/webå®‰å…¨/çˆ¬è™«æ”»å‡»\"},{\"text\":\"ä¸Šä¼ æ¥å£æ”»å‡»\",\"link\":\"/blogs/browser/webå®‰å…¨/ä¸Šä¼ æ¥å£æ”»å‡»\"},{\"text\":\"xsså’Œcsrf\",\"link\":\"/blogs/browser/webå®‰å…¨/xsså’Œcsrf\"}]},{\"text\":\"event-loop\",\"link\":\"/blogs/browser/event-loop\"},{\"text\":\"æ‚è®°\",\"link\":\"/blogs/browser/æ‚è®°\"},{\"text\":\"æµè§ˆå™¨ä¸­çš„çº¿ç¨‹å’Œè¿›ç¨‹\",\"link\":\"/blogs/browser/æµè§ˆå™¨ä¸­çš„çº¿ç¨‹å’Œè¿›ç¨‹\"},{\"text\":\"å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜\",\"link\":\"/blogs/browser/å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜\"},{\"text\":\"æµè§ˆå™¨æ¸²æŸ“åŸç†å’Œæ€§èƒ½ä¼˜åŒ–\",\"link\":\"/blogs/browser/æµè§ˆå™¨æ¸²æŸ“åŸç†å’Œæ€§èƒ½ä¼˜åŒ–\"},{\"text\":\"æµè§ˆå™¨éšæ„è®°å½•\",\"link\":\"/blogs/browser/æµè§ˆå™¨éšæ„è®°å½•\"}]},{\"originText\":\"css\",\"text\":\"css\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"z-indexä¸ç”Ÿæ•ˆ\",\"link\":\"/blogs/css/z-indexä¸ç”Ÿæ•ˆ\"}]},{\"originText\":\"performance\",\"text\":\"performance\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"first\",\"link\":\"/blogs/performance/first\"},{\"text\":\"å¤§æ•°æ®æ¸²æŸ“\",\"link\":\"/blogs/performance/index\"},{\"text\":\"æ€§èƒ½ä¼˜åŒ–ä½“ç³»\",\"link\":\"/blogs/performance/æ€§èƒ½ä¼˜åŒ–ä½“ç³»\"},{\"text\":\"é•¿ä»»åŠ¡å¤„ç†\",\"link\":\"/blogs/performance/é•¿ä»»åŠ¡å¤„ç†\"}]},{\"originText\":\"å·¥ç¨‹åŒ–\",\"text\":\"å·¥ç¨‹åŒ–\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"ä¸ºä»€ä¹ˆç”¨rollupè¿›è¡Œæ‰“åŒ…\",\"link\":\"/blogs/project/ä¸ºä»€ä¹ˆç”¨rollupè¿›è¡Œæ‰“åŒ…\"},{\"text\":\"babelæ’ä»¶\",\"link\":\"/blogs/project/babel_plugin\"},{\"text\":\"å‰ç«¯ç›‘æ§\",\"link\":\"/blogs/project/å‰ç«¯ç›‘æ§\"},{\"text\":\"å‰ç«¯æµ‹è¯•\",\"link\":\"/blogs/project/å‰ç«¯æµ‹è¯•\"},{\"originText\":\"æ¨¡å—\",\"text\":\"æ¨¡å—\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"æ‰“åŒ…å·¥å…·çš„æ ¸å¿ƒæµç¨‹\",\"link\":\"/blogs/project/æ¨¡å—/æ‰“åŒ…å·¥å…·çš„æ ¸å¿ƒæµç¨‹\"},{\"text\":\"æ¨¡å—å‘å±•å²\",\"link\":\"/blogs/project/æ¨¡å—/æ¨¡å—å‘å±•å²\"}]},{\"originText\":\"vite\",\"text\":\"vite\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"å¦‚ä½•è°ƒè¯•æºç \",\"link\":\"/blogs/project/vite/å¦‚ä½•è°ƒè¯•æºç \"},{\"text\":\"viteä¼˜åŠ¿å’Œå®è§‚åŸç†\",\"link\":\"/blogs/project/vite/viteä¼˜åŠ¿\"},{\"text\":\"ä¾èµ–é¢„æ„å»º\",\"link\":\"/blogs/project/vite/ä¾èµ–é¢„æ„å»º\"},{\"text\":\"HMR\",\"link\":\"/blogs/project/vite/HMR\"},{\"text\":\"å¼€å‘ç¯å¢ƒå¦‚ä½•å’Œç”Ÿäº§ç¯å¢ƒä¿æŒä¸€è‡´\",\"link\":\"/blogs/project/vite/å¼€å‘ç¯å¢ƒå¦‚ä½•å’Œç”Ÿäº§ç¯å¢ƒä¿æŒä¸€è‡´\"},{\"text\":\"å’Œå…¶ä»–æ¡†æ¶ä¸€èµ·ä»‹ç»\",\"link\":\"/blogs/project/vite/å’Œå…¶ä»–æ¡†æ¶ä¸€èµ·ä»‹ç»\"},{\"text\":\"å¸¸è§çš„ä¸€äº›é—®é¢˜\",\"link\":\"/blogs/project/vite/å¸¸è§çš„ä¸€äº›é—®é¢˜\"},{\"text\":\"ä¸€äº›æ€»ç»“\",\"link\":\"/blogs/project/vite/ä¸€äº›æ€»ç»“\"}]}]},{\"originText\":\"æ¶æ„\",\"text\":\"æ¶æ„\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"æ’ä»¶å¼å¼€å‘\",\"link\":\"/blogs/structure/æ’ä»¶å¼å¼€å‘\"},{\"text\":\"ç›‘æ§ç³»ç»Ÿæ’ä»¶å¼å¼€å‘å®æˆ˜\",\"link\":\"/blogs/structure/ç›‘æ§ç³»ç»Ÿæ’ä»¶å¼å¼€å‘å®æˆ˜\"},{\"text\":\"å¦‚ä½•å¤„ç†å‰ç«¯å¤æ‚çš„ä¸šåŠ¡ä»£ç \",\"link\":\"/blogs/structure/å¦‚ä½•å¤„ç†å‰ç«¯å¤æ‚çš„ä¸šåŠ¡ä»£ç \"},{\"text\":\"é¡¹ç›®ä¸­åˆ›æ„é…ç½®ç³»ç»Ÿè®¾è®¡\",\"link\":\"/blogs/structure/åˆ›æ„é…ç½®ç³»ç»Ÿè®¾è®¡\"},{\"text\":\"å‰ç«¯éƒ¨ç½²\",\"link\":\"/blogs/structure/å‰ç«¯éƒ¨ç½²\"},{\"text\":\"å‰ç«¯å¼€å‘ä¸­çš„ä¸€äº›æ€è€ƒ\",\"link\":\"/blogs/structure/å‰ç«¯å¼€å‘ä¸­çš„ä¸€äº›æ€è€ƒ\"},{\"text\":\"ç†è§£ä¸šåŠ¡ç³»ç»Ÿçš„å¤æ‚æ€§\",\"link\":\"/blogs/structure/ç†è§£ä¸šåŠ¡ç³»ç»Ÿçš„å¤æ‚æ€§\"}]},{\"originText\":\"ç®—æ³•\",\"text\":\"ç®—æ³•\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"æ ‘\",\"link\":\"/blogs/algorithm/æ ‘\"},{\"text\":\"é“¾è¡¨\",\"link\":\"/blogs/algorithm/é“¾è¡¨\"},{\"text\":\"æŠ€å·§\",\"link\":\"/blogs/algorithm/æŠ€å·§\"},{\"text\":\"ä»£ç ç‰‡æ®µ\",\"link\":\"/blogs/algorithm/ä»£ç ç‰‡æ®µ\"},{\"text\":\"ç®—æ³•æ¡†æ¶\",\"link\":\"/blogs/algorithm/ç®—æ³•æ¡†æ¶\"},{\"text\":\"ç»å…¸é¢˜ç›®\",\"link\":\"/blogs/algorithm/ç»å…¸é¢˜ç›®\"}]},{\"originText\":\"ä»£ç ç‰‡æ®µ\",\"text\":\"ä»£ç ç‰‡æ®µ\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"javascriptä»£ç ç‰‡æ®µ\",\"link\":\"/blogs/codePart/javascript\"}]},{\"originText\":\"node\",\"text\":\"node\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"originText\":\"koa\",\"text\":\"koa\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"ä»‹ç»å’ŒåŸç†\",\"link\":\"/blogs/node/koa/ä»‹ç»å’ŒåŸç†\"},{\"text\":\"è‡ªå®šä¹‰ä¸­é—´ä»¶\",\"link\":\"/blogs/node/koa/è‡ªå®šä¹‰ä¸­é—´ä»¶\"}]},{\"originText\":\"bffå¹³å°æ­å»º\",\"text\":\"bffå¹³å°æ­å»º\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"æ¦‚è§ˆ\",\"link\":\"/blogs/node/bffå¹³å°æ­å»º/æ¦‚è§ˆ\"},{\"text\":\"æ•°æ®åº“\",\"link\":\"/blogs/node/bffå¹³å°æ­å»º/æ•°æ®åº“\"}]},{\"text\":\"nodeå®ç°è·¯å¾„åˆ«å\",\"link\":\"/blogs/node/nodeå®ç°è·¯å¾„åˆ«å\"}]},{\"originText\":\"redux\",\"text\":\"redux\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"reduxæºç å®ç°\",\"link\":\"/blogs/redux/reduxæºç å®ç°\"},{\"text\":\"react-reduxæºç å®ç°\",\"link\":\"/blogs/redux/react-reduxæºç å®ç°\"},{\"text\":\"reduxä½¿ç”¨ä¼˜åŒ–\",\"link\":\"/blogs/redux/reduxä½¿ç”¨ä¼˜åŒ–\"},{\"text\":\"reduxå®ç°watch\",\"link\":\"/blogs/redux/reduxå®ç°watch\"},{\"text\":\"reduxåŸç†--æ‚è®°\",\"link\":\"/blogs/redux/reduxåŸç†\"},{\"text\":\"reduxæ€æƒ³\",\"link\":\"/blogs/redux/reduxæ€æƒ³\"}]},{\"originText\":\"thinking\",\"text\":\"ä¸ªäººæ€è€ƒ\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"ä¸­é—´ä»¶\",\"link\":\"/blogs/thinking/ä¸­é—´ä»¶\"},{\"text\":\"å‡½æ•°ç¼–ç¨‹èŒƒå¼\",\"link\":\"/blogs/thinking/å‡½æ•°ç¼–ç¨‹èŒƒå¼\"},{\"text\":\"ä¸ªäººæˆé•¿\",\"link\":\"/blogs/thinking/ä¸ªäººæˆé•¿\"}]},{\"originText\":\"å­¦ä¹ æ¨è\",\"text\":\"node\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"æ¨èç½‘ç«™\",\"link\":\"/blogs/learn/æ¨èç½‘ç«™\"}]},{\"originText\":\"mobile\",\"text\":\"ç§»åŠ¨ç«¯\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"ç§»åŠ¨ç«¯é€‚é…\",\"link\":\"/blogs/mobile/ç§»åŠ¨ç«¯é€‚é…\"}]},{\"originText\":\"others\",\"text\":\"å…¶ä»–\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"å¼€å‘é—®é¢˜æ±‡æ€»\",\"link\":\"/blogs/others/å¼€å‘é—®é¢˜æ±‡æ€»\"},{\"text\":\"jsapiå’Œç¦»çº¿åŒ…\",\"link\":\"/blogs/others/jsapiå’Œç¦»çº¿åŒ…\"},{\"text\":\"tinyproxyæ­å»ºç§äººä»£ç†æœåŠ¡å™¨\",\"link\":\"/blogs/others/tinyproxyæ­å»ºç§äººä»£ç†æœåŠ¡å™¨\"},{\"text\":\"bffå’Œrpc\",\"link\":\"/blogs/others/bffå’Œrpc\"}]}],\"docFooter\":{\"prev\":\"ä¸Šä¸€ç¯‡\",\"next\":\"ä¸‹ä¸€ç¯‡\"},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright Â© 2023-present front-knowledge\"},\"lastUpdatedText\":\"æœ€è¿‘æ›´æ–°æ—¶é—´\",\"editLink\":{\"pattern\":\"https://github.com/xzy0625/front-knowledge/tree/master/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/xzy0625/front-knowledge\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>